var profile_completeness_tracker;!function(){var e={178:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},662:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(178),t)},570:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EventType=void 0,(n=t.EventType||(t.EventType={})).AnonymousStudentServiceReady="anonymous-student-service-ready",n.AnonymousStudentProfileUpdated="anonymous-student-profile-updated",n.AnonymousStudentProfileSynced="anonymous-student-profile-synced"},617:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(570),t),r(n(898),t),r(n(190),t)},898:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.InterestType=void 0,(n=t.InterestType||(t.InterestType={})).COUNTRY="interests_countries",n.DISCIPLINE="interests_disciplines"},190:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.StudentRepositoryStateType=void 0,(n=t.StudentRepositoryStateType||(t.StudentRepositoryStateType={}))[n.PENDING=0]="PENDING",n[n.ONLINE=1]="ONLINE",n[n.OFFLINE=2]="OFFLINE"},308:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnonymousStudentProfileSynced=void 0;const i=n(570);class r{constructor(e,t){this.timestamp=e,this.state=t,this.eventType=r.EventType}}t.AnonymousStudentProfileSynced=r,r.EventType=i.EventType.AnonymousStudentProfileSynced},236:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnonymousStudentProfileUpdated=void 0;const i=n(617);class r{constructor(e,t,n){this.timestamp=e,this.state=t,this.changes=n,this.eventType=r.EventType}}t.AnonymousStudentProfileUpdated=r,r.EventType=i.EventType.AnonymousStudentProfileUpdated},612:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnonymousStudentServiceReady=void 0;const i=n(617);class r{constructor(e){this.eventType=r.EventType,this.timestamp=new Date,this.anonymousStudentService=e}}t.AnonymousStudentServiceReady=r,r.EventType=i.EventType.AnonymousStudentServiceReady},688:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(308),t),r(n(236),t),r(n(612),t)},312:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(662),t),r(n(617),t),r(n(688),t)},527:function(e,t,n){"use strict";t.Gq=void 0;const i=n(411);Object.defineProperty(t,"Gq",{enumerable:!0,get:function(){return i.StudentField}}),n(322)},322:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.AttendanceType=void 0,(n=t.AttendanceType||(t.AttendanceType={})).ONLINE="online",n.ON_CAMPUS="oncampus",n.BLENDED="blended"},411:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.StudentField=void 0,(n=t.StudentField||(t.StudentField={})).IDENTITY_ID="identityId",n.EMAIL="email",n.NAME="name",n.FIRST_NAME="first_name",n.LAST_NAME="last_name",n.GENDER="gender",n.BIRTH_DATE="birth_date",n.TELEPHONE="telephone",n.START_PERIOD="start_period",n.FUNDING_TYPE="funding_type",n.STUDY_LEVEL="study_level",n.PREFERRED_STUDY_LEVEL="preferred_study_level",n.RESIDENCE_COUNTRY_ID="residence_country_id",n.NATIONALITY_COUNTRY_ID="nationality_country_id",n.STUDY_COUNTRY_ID="study_country_id",n.REGISTRATION_IP="registration_ip",n.REGISTRATION_PORTAL_TYPE="registration_portal_type",n.WORK_EXPERIENCE="work_experience",n.PROFICIENCY_TYPE="proficiency_type",n.PROFICIENCY_TEST="proficiency_test",n.PROFICIENCY_SCORE="proficiency_score",n.IELTS="ielts",n.CAE="cae",n.FCE="fce",n.TOEFL_IBT="toefl_ibt",n.TOEFL_PBT="toefl_pbt",n.PTE="pte",n.SELF_ASSESSMENT_PROFICIENCY="self_assessment_proficiency",n.INITIAL_REGISTRATION_PLATFORM="initial_registration_platform",n.EMAILING_OTHER="emailing_other",n.EMAILING_FAVOURITES="emailing_favourites",n.EMAILING_SCHOLARSHIPS="emailing_scholarships",n.EMAILING_UPDATES="emailing_updates",n.LAST_LOGIN="last_login",n.LAST_LOGIN_UTC="last_login_utc",n.DATE_CREATED="date_created",n.DATE_CREATED_UTC="date_created_utc",n.LOGINS="logins",n.DISCIPLINES="disciplines",n.INTERESTS_COUNTRIES="interests_countries",n.INTERESTS_DISCIPLINES="interests_disciplines",n.EMAIL_UNSUBSCRIBE_TOKEN="emailUnsubscribeToken",n.GDPR_ACCEPTED="gdpr_accepted",n.ORIGIN_ORGANISATION_ID="origin_organisation_id",n.GPA="gpa",n.LIVING_BUDGET="living_budget",n.TUITION_BUDGET="tuition_budget",n.SEEN_COMPARISON_TUTORIAL="seen_comparison_tutorial",n.ACCOMPLISHMENTS="accomplishments",n.CURRENCY="currency",n.AFFILIATE="affiliate",n.AFFILIATE_URL="affiliate_url",n.ATTENDANCE="attendance",n.TRAFFIC_SOURCE="traffic_source",n.TRAFFIC_SOURCE_URL="traffic_source_url",n.DISMISSED_ONBOARDING_QUESTIONNAIRE="dismissed_onboarding_questionnaire",n.STARTED_ONBOARDING_QUESTIONNAIRE="started_onboarding_questionnaire"},123:function(e,t,n){e.exports=n(987)("./node_modules/@studyportals/data-storage/dist/index.js")},534:function(e,t,n){e.exports=n(505)("./node_modules/@studyportals/datalake-event-tracker/dist/datalake_event_tracker.js")},987:function(e){"use strict";e.exports=dataStorage_v2},505:function(e){"use strict";e.exports=datalake_event_tracker_v4}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};!function(){"use strict";n.r(i);var e=n(123),t=n(534),r=n(527),o=n(312);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a{constructor(e,t,n){s(this,"eventAggregationService",void 0),s(this,"dataStorage",void 0),s(this,"tracker",void 0),s(this,"anonymousStudent",void 0),this.eventAggregationService=e,this.dataStorage=t,this.tracker=n}get storageKey(){return`ProfileCompletenessTracker/${this.type}`}async initialize(){this.eventAggregationService.subscribeTo(o.AnonymousStudentServiceReady.EventType,this,!0),this.eventAggregationService.subscribeTo(o.AnonymousStudentProfileUpdated.EventType,this)}async updateCompleteness(){const e=await this.anonymousStudent.getStudentDataCompleteness(this.scope),t=Number(this.dataStorage.retrieve(this.storageKey));this.isCompletenessChanged(e,t)&&(this.trackCompleteness(e),this.dataStorage.store(this.storageKey,e.toString()))}trackCompleteness(e){this.tracker.trackStructuredEvent({action:t.Action.NON_INTERACTIVE,label:"completeness_given",property:this.type,value:e})}async notify(e){e.eventType===o.AnonymousStudentServiceReady.EventType&&(this.anonymousStudent=e.anonymousStudentService),this.anonymousStudent&&await this.updateCompleteness()}isCompletenessChanged(e,t){return t!==e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _=window.EventAggregationService,l=e.DataStorage,p=new t.Tracker(t.Product.PROFILE),E=new class extends a{constructor(...e){super(...e),d(this,"service","BestFit"),d(this,"type","bestfit"),d(this,"scope",[r.Gq.STUDY_LEVEL,r.Gq.STUDY_COUNTRY_ID,r.Gq.DISCIPLINES,r.Gq.GPA,r.Gq.WORK_EXPERIENCE,r.Gq.PROFICIENCY_TYPE,r.Gq.TUITION_BUDGET,r.Gq.LIVING_BUDGET])}}(_,l,p),y=new class extends a{constructor(...e){super(...e),u(this,"service","BestFit"),u(this,"type","academic"),u(this,"scope",[r.Gq.STUDY_LEVEL,r.Gq.STUDY_COUNTRY_ID,r.Gq.DISCIPLINES,r.Gq.GPA,r.Gq.WORK_EXPERIENCE,r.Gq.PROFICIENCY_TYPE])}}(_,l,p),T=new class extends a{constructor(...e){super(...e),c(this,"service","BestFit"),c(this,"type","budget"),c(this,"scope",[r.Gq.TUITION_BUDGET,r.Gq.LIVING_BUDGET])}}(_,l,p);E.initialize(),y.initialize(),T.initialize()}(),profile_completeness_tracker=i}();
//# sourceMappingURL=bundle.e8d8f8dd1dc7cbc02e35.js.map