!function(){var e={9976:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return c.default}});var i=h(s(7041)),n=h(s(543)),r=h(s(829)),o=h(s(1654)),a=h(s(9995)),c=h(s(5507)),u=h(s(1840)),l=h(s(4683)),d=h(s(6856));function h(e){return e&&e.__esModule?e:{default:e}}},5380:function(e,t){"use strict";function s(e){return 14+(e+64>>>9<<4)+1}function i(e,t){const s=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(s>>16)<<16|65535&s}function n(e,t,s,n,r,o){return i((a=i(i(t,e),i(n,o)))<<(c=r)|a>>>32-c,s);var a,c}function r(e,t,s,i,r,o,a){return n(t&s|~t&i,e,t,r,o,a)}function o(e,t,s,i,r,o,a){return n(t&i|s&~i,e,t,r,o,a)}function a(e,t,s,i,r,o,a){return n(t^s^i,e,t,r,o,a)}function c(e,t,s,i,r,o,a){return n(s^(t|~i),e,t,r,o,a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let s=0;s<t.length;++s)e[s]=t.charCodeAt(s)}return function(e){const t=[],s=32*e.length,i="0123456789abcdef";for(let n=0;n<s;n+=8){const s=e[n>>5]>>>n%32&255,r=parseInt(i.charAt(s>>>4&15)+i.charAt(15&s),16);t.push(r)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[s(t)-1]=t;let n=1732584193,u=-271733879,l=-1732584194,d=271733878;for(let t=0;t<e.length;t+=16){const s=n,h=u,f=l,p=d;n=r(n,u,l,d,e[t],7,-680876936),d=r(d,n,u,l,e[t+1],12,-389564586),l=r(l,d,n,u,e[t+2],17,606105819),u=r(u,l,d,n,e[t+3],22,-1044525330),n=r(n,u,l,d,e[t+4],7,-176418897),d=r(d,n,u,l,e[t+5],12,1200080426),l=r(l,d,n,u,e[t+6],17,-1473231341),u=r(u,l,d,n,e[t+7],22,-45705983),n=r(n,u,l,d,e[t+8],7,1770035416),d=r(d,n,u,l,e[t+9],12,-1958414417),l=r(l,d,n,u,e[t+10],17,-42063),u=r(u,l,d,n,e[t+11],22,-1990404162),n=r(n,u,l,d,e[t+12],7,1804603682),d=r(d,n,u,l,e[t+13],12,-40341101),l=r(l,d,n,u,e[t+14],17,-1502002290),u=r(u,l,d,n,e[t+15],22,1236535329),n=o(n,u,l,d,e[t+1],5,-165796510),d=o(d,n,u,l,e[t+6],9,-1069501632),l=o(l,d,n,u,e[t+11],14,643717713),u=o(u,l,d,n,e[t],20,-373897302),n=o(n,u,l,d,e[t+5],5,-701558691),d=o(d,n,u,l,e[t+10],9,38016083),l=o(l,d,n,u,e[t+15],14,-660478335),u=o(u,l,d,n,e[t+4],20,-405537848),n=o(n,u,l,d,e[t+9],5,568446438),d=o(d,n,u,l,e[t+14],9,-1019803690),l=o(l,d,n,u,e[t+3],14,-187363961),u=o(u,l,d,n,e[t+8],20,1163531501),n=o(n,u,l,d,e[t+13],5,-1444681467),d=o(d,n,u,l,e[t+2],9,-51403784),l=o(l,d,n,u,e[t+7],14,1735328473),u=o(u,l,d,n,e[t+12],20,-1926607734),n=a(n,u,l,d,e[t+5],4,-378558),d=a(d,n,u,l,e[t+8],11,-2022574463),l=a(l,d,n,u,e[t+11],16,1839030562),u=a(u,l,d,n,e[t+14],23,-35309556),n=a(n,u,l,d,e[t+1],4,-1530992060),d=a(d,n,u,l,e[t+4],11,1272893353),l=a(l,d,n,u,e[t+7],16,-155497632),u=a(u,l,d,n,e[t+10],23,-1094730640),n=a(n,u,l,d,e[t+13],4,681279174),d=a(d,n,u,l,e[t],11,-358537222),l=a(l,d,n,u,e[t+3],16,-722521979),u=a(u,l,d,n,e[t+6],23,76029189),n=a(n,u,l,d,e[t+9],4,-640364487),d=a(d,n,u,l,e[t+12],11,-421815835),l=a(l,d,n,u,e[t+15],16,530742520),u=a(u,l,d,n,e[t+2],23,-995338651),n=c(n,u,l,d,e[t],6,-198630844),d=c(d,n,u,l,e[t+7],10,1126891415),l=c(l,d,n,u,e[t+14],15,-1416354905),u=c(u,l,d,n,e[t+5],21,-57434055),n=c(n,u,l,d,e[t+12],6,1700485571),d=c(d,n,u,l,e[t+3],10,-1894986606),l=c(l,d,n,u,e[t+10],15,-1051523),u=c(u,l,d,n,e[t+1],21,-2054922799),n=c(n,u,l,d,e[t+8],6,1873313359),d=c(d,n,u,l,e[t+15],10,-30611744),l=c(l,d,n,u,e[t+6],15,-1560198380),u=c(u,l,d,n,e[t+13],21,1309151649),n=c(n,u,l,d,e[t+4],6,-145523070),d=c(d,n,u,l,e[t+11],10,-1120210379),l=c(l,d,n,u,e[t+2],15,718787259),u=c(u,l,d,n,e[t+9],21,-343485551),n=i(n,s),u=i(u,h),l=i(l,f),d=i(d,p)}return[n,u,l,d]}(function(e){if(0===e.length)return[];const t=8*e.length,i=new Uint32Array(s(t));for(let s=0;s<t;s+=8)i[s>>5]|=(255&e[s/8])<<s%32;return i}(e),8*e.length))}},8077:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=s},9995:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default="00000000-0000-0000-0000-000000000000"},6856:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,n=(i=s(1840))&&i.__esModule?i:{default:i};t.default=function(e){if(!(0,n.default)(e))throw TypeError("Invalid UUID");let t;const s=new Uint8Array(16);return s[0]=(t=parseInt(e.slice(0,8),16))>>>24,s[1]=t>>>16&255,s[2]=t>>>8&255,s[3]=255&t,s[4]=(t=parseInt(e.slice(9,13),16))>>>8,s[5]=255&t,s[6]=(t=parseInt(e.slice(14,18),16))>>>8,s[7]=255&t,s[8]=(t=parseInt(e.slice(19,23),16))>>>8,s[9]=255&t,s[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,s[11]=t/4294967296&255,s[12]=t>>>24&255,s[13]=t>>>16&255,s[14]=t>>>8&255,s[15]=255&t,s}},1573:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},4553:function(e,t){"use strict";let s;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!s&&(s="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(i)};const i=new Uint8Array(16)},719:function(e,t){"use strict";function s(e,t,s,i){switch(e){case 0:return t&s^~t&i;case 1:case 3:return t^s^i;case 2:return t&s^t&i^s&i}}function i(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){const t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let s=0;s<t.length;++s)e.push(t.charCodeAt(s))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const r=e.length/4+2,o=Math.ceil(r/16),a=new Array(o);for(let t=0;t<o;++t){const s=new Uint32Array(16);for(let i=0;i<16;++i)s[i]=e[64*t+4*i]<<24|e[64*t+4*i+1]<<16|e[64*t+4*i+2]<<8|e[64*t+4*i+3];a[t]=s}a[o-1][14]=8*(e.length-1)/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<o;++e){const r=new Uint32Array(80);for(let t=0;t<16;++t)r[t]=a[e][t];for(let e=16;e<80;++e)r[e]=i(r[e-3]^r[e-8]^r[e-14]^r[e-16],1);let o=n[0],c=n[1],u=n[2],l=n[3],d=n[4];for(let e=0;e<80;++e){const n=Math.floor(e/20),a=i(o,5)+s(n,c,u,l)+d+t[n]+r[e]>>>0;d=l,l=u,u=i(c,30)>>>0,c=o,o=a}n[0]=n[0]+o>>>0,n[1]=n[1]+c>>>0,n[2]=n[2]+u>>>0,n[3]=n[3]+l>>>0,n[4]=n[4]+d>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}},4683:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=o;var i,n=(i=s(1840))&&i.__esModule?i:{default:i};const r=[];for(let e=0;e<256;++e)r.push((e+256).toString(16).slice(1));function o(e,t=0){return(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase()}t.default=function(e,t=0){const s=o(e,t);if(!(0,n.default)(s))throw TypeError("Stringified UUID is invalid");return s}},7041:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,n=(i=s(4553))&&i.__esModule?i:{default:i},r=s(4683);let o,a,c=0,u=0;t.default=function(e,t,s){let i=t&&s||0;const l=t||new Array(16);let d=(e=e||{}).node||o,h=void 0!==e.clockseq?e.clockseq:a;if(null==d||null==h){const t=e.random||(e.rng||n.default)();null==d&&(d=o=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==h&&(h=a=16383&(t[6]<<8|t[7]))}let f=void 0!==e.msecs?e.msecs:Date.now(),p=void 0!==e.nsecs?e.nsecs:u+1;const y=f-c+(p-u)/1e4;if(y<0&&void 0===e.clockseq&&(h=h+1&16383),(y<0||f>c)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=f,u=p,a=h,f+=122192928e5;const v=(1e4*(268435455&f)+p)%4294967296;l[i++]=v>>>24&255,l[i++]=v>>>16&255,l[i++]=v>>>8&255,l[i++]=255&v;const g=f/4294967296*1e4&268435455;l[i++]=g>>>8&255,l[i++]=255&g,l[i++]=g>>>24&15|16,l[i++]=g>>>16&255,l[i++]=h>>>8|128,l[i++]=255&h;for(let e=0;e<6;++e)l[i+e]=d[e];return t||(0,r.unsafeStringify)(l)}},543:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(s(1629)),n=r(s(5380));function r(e){return e&&e.__esModule?e:{default:e}}var o=(0,i.default)("v3",48,n.default);t.default=o},1629:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,s){function i(e,i,o,a){var c;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let s=0;s<e.length;++s)t.push(e.charCodeAt(s));return t}(e)),"string"==typeof i&&(i=(0,r.default)(i)),16!==(null===(c=i)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(i),u.set(e,i.length),u=s(u),u[6]=15&u[6]|t,u[8]=63&u[8]|128,o){a=a||0;for(let e=0;e<16;++e)o[a+e]=u[e];return o}return(0,n.unsafeStringify)(u)}try{i.name=e}catch(e){}return i.DNS=o,i.URL=a,i};var i,n=s(4683),r=(i=s(6856))&&i.__esModule?i:{default:i};const o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=o;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=a},829:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(s(8077)),n=o(s(4553)),r=s(4683);function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,s){if(i.default.randomUUID&&!t&&!e)return i.default.randomUUID();const o=(e=e||{}).random||(e.rng||n.default)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){s=s||0;for(let e=0;e<16;++e)t[s+e]=o[e];return t}return(0,r.unsafeStringify)(o)}},1654:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(s(1629)),n=r(s(719));function r(e){return e&&e.__esModule?e:{default:e}}var o=(0,i.default)("v5",80,n.default);t.default=o},1840:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,n=(i=s(1573))&&i.__esModule?i:{default:i};t.default=function(e){return"string"==typeof e&&n.default.test(e)}},5507:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,n=(i=s(1840))&&i.__esModule?i:{default:i};t.default=function(e){if(!(0,n.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},9669:function(e,t,s){e.exports=s(1609)},5448:function(e,t,s){"use strict";var i=s(4867),n=s(6026),r=s(4372),o=s(5327),a=s(4097),c=s(4109),u=s(7985),l=s(5061);e.exports=function(e){return new Promise((function(t,s){var d=e.data,h=e.headers,f=e.responseType;i.isFormData(d)&&delete h["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var y=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(y+":"+v)}var g=a(e.baseURL,e.url);function m(){if(p){var i="getAllResponseHeaders"in p?c(p.getAllResponseHeaders()):null,r={data:f&&"text"!==f&&"json"!==f?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:i,config:e,request:p};n(t,s,r),p=null}}if(p.open(e.method.toUpperCase(),o(g,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,"onloadend"in p?p.onloadend=m:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(m)},p.onabort=function(){p&&(s(l("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){s(l("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),s(l(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},i.isStandardBrowserEnv()){var w=(e.withCredentials||u(g))&&e.xsrfCookieName?r.read(e.xsrfCookieName):void 0;w&&(h[e.xsrfHeaderName]=w)}"setRequestHeader"in p&&i.forEach(h,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete h[t]:p.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),f&&"json"!==f&&(p.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),s(e),p=null)})),d||(d=null),p.send(d)}))}},1609:function(e,t,s){"use strict";var i=s(4867),n=s(1849),r=s(321),o=s(7185);function a(e){var t=new r(e),s=n(r.prototype.request,t);return i.extend(s,r.prototype,t),i.extend(s,t),s}var c=a(s(5655));c.Axios=r,c.create=function(e){return a(o(c.defaults,e))},c.Cancel=s(5263),c.CancelToken=s(4972),c.isCancel=s(6502),c.all=function(e){return Promise.all(e)},c.spread=s(8713),c.isAxiosError=s(6268),e.exports=c,e.exports.default=c},5263:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4972:function(e,t,s){"use strict";var i=s(5263);function n(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var s=this;e((function(e){s.reason||(s.reason=new i(e),t(s.reason))}))}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n((function(t){e=t})),cancel:e}},e.exports=n},6502:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:function(e,t,s){"use strict";var i=s(4867),n=s(5327),r=s(782),o=s(3572),a=s(7185),c=s(4875),u=c.validators;function l(e){this.defaults=e,this.interceptors={request:new r,response:new r}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:u.transitional(u.boolean,"1.0.0"),forcedJSONParsing:u.transitional(u.boolean,"1.0.0"),clarifyTimeoutError:u.transitional(u.boolean,"1.0.0")},!1);var s=[],i=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,s.unshift(t.fulfilled,t.rejected))}));var n,r=[];if(this.interceptors.response.forEach((function(e){r.push(e.fulfilled,e.rejected)})),!i){var l=[o,void 0];for(Array.prototype.unshift.apply(l,s),l=l.concat(r),n=Promise.resolve(e);l.length;)n=n.then(l.shift(),l.shift());return n}for(var d=e;s.length;){var h=s.shift(),f=s.shift();try{d=h(d)}catch(e){f(e);break}}try{n=o(d)}catch(e){return Promise.reject(e)}for(;r.length;)n=n.then(r.shift(),r.shift());return n},l.prototype.getUri=function(e){return e=a(this.defaults,e),n(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,s){return this.request(a(s||{},{method:e,url:t,data:(s||{}).data}))}})),i.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,s,i){return this.request(a(i||{},{method:e,url:t,data:s}))}})),e.exports=l},782:function(e,t,s){"use strict";var i=s(4867);function n(){this.handlers=[]}n.prototype.use=function(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!s&&s.synchronous,runWhen:s?s.runWhen:null}),this.handlers.length-1},n.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},n.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=n},4097:function(e,t,s){"use strict";var i=s(1793),n=s(7303);e.exports=function(e,t){return e&&!i(t)?n(e,t):t}},5061:function(e,t,s){"use strict";var i=s(481);e.exports=function(e,t,s,n,r){var o=new Error(e);return i(o,t,s,n,r)}},3572:function(e,t,s){"use strict";var i=s(4867),n=s(8527),r=s(6502),o=s(5655);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=n.call(e,e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return a(e),t.data=n.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return r(t)||(a(e),t&&t.response&&(t.response.data=n.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:function(e){"use strict";e.exports=function(e,t,s,i,n){return e.config=t,s&&(e.code=s),e.request=i,e.response=n,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},7185:function(e,t,s){"use strict";var i=s(4867);e.exports=function(e,t){t=t||{};var s={},n=["url","method","data"],r=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function c(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function u(n){i.isUndefined(t[n])?i.isUndefined(e[n])||(s[n]=c(void 0,e[n])):s[n]=c(e[n],t[n])}i.forEach(n,(function(e){i.isUndefined(t[e])||(s[e]=c(void 0,t[e]))})),i.forEach(r,u),i.forEach(o,(function(n){i.isUndefined(t[n])?i.isUndefined(e[n])||(s[n]=c(void 0,e[n])):s[n]=c(void 0,t[n])})),i.forEach(a,(function(i){i in t?s[i]=c(e[i],t[i]):i in e&&(s[i]=c(void 0,e[i]))}));var l=n.concat(r).concat(o).concat(a),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return i.forEach(d,u),s}},6026:function(e,t,s){"use strict";var i=s(5061);e.exports=function(e,t,s){var n=s.config.validateStatus;s.status&&n&&!n(s.status)?t(i("Request failed with status code "+s.status,s.config,null,s.request,s)):e(s)}},8527:function(e,t,s){"use strict";var i=s(4867),n=s(5655);e.exports=function(e,t,s){var r=this||n;return i.forEach(s,(function(s){e=s.call(r,e,t)})),e}},5655:function(e,t,s){"use strict";var i=s(4867),n=s(6016),r=s(481),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=s(5448)),c),transformRequest:[function(e,t){return n(t,"Accept"),n(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)||t&&"application/json"===t["Content-Type"]?(a(t,"application/json"),function(e,t,s){if(i.isString(e))try{return(0,JSON.parse)(e),i.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,s=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,o=!s&&"json"===this.responseType;if(o||n&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(o){if("SyntaxError"===e.name)throw r(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){u.headers[e]=i.merge(o)})),e.exports=u},1849:function(e){"use strict";e.exports=function(e,t){return function(){for(var s=new Array(arguments.length),i=0;i<s.length;i++)s[i]=arguments[i];return e.apply(t,s)}}},5327:function(e,t,s){"use strict";var i=s(4867);function n(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,s){if(!t)return e;var r;if(s)r=s(t);else if(i.isURLSearchParams(t))r=t.toString();else{var o=[];i.forEach(t,(function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),o.push(n(t)+"="+n(e))})))})),r=o.join("&")}if(r){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}},7303:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:function(e,t,s){"use strict";var i=s(4867);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,s,n,r,o){var a=[];a.push(e+"="+encodeURIComponent(t)),i.isNumber(s)&&a.push("expires="+new Date(s).toGMTString()),i.isString(n)&&a.push("path="+n),i.isString(r)&&a.push("domain="+r),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},6268:function(e){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},7985:function(e,t,s){"use strict";var i=s(4867);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");function n(e){var i=e;return t&&(s.setAttribute("href",i),i=s.href),s.setAttribute("href",i),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:"/"===s.pathname.charAt(0)?s.pathname:"/"+s.pathname}}return e=n(window.location.href),function(t){var s=i.isString(t)?n(t):t;return s.protocol===e.protocol&&s.host===e.host}}():function(){return!0}},6016:function(e,t,s){"use strict";var i=s(4867);e.exports=function(e,t){i.forEach(e,(function(s,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=s,delete e[i])}))}},4109:function(e,t,s){"use strict";var i=s(4867),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,s,r,o={};return e?(i.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=i.trim(e.substr(0,r)).toLowerCase(),s=i.trim(e.substr(r+1)),t){if(o[t]&&n.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([s]):o[t]?o[t]+", "+s:s}})),o):o}},8713:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},4875:function(e,t,s){"use strict";var i=s(8593),n={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){n[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}}));var r={},o=i.version.split(".");function a(e,t){for(var s=t?t.split("."):o,i=e.split("."),n=0;n<3;n++){if(s[n]>i[n])return!0;if(s[n]<i[n])return!1}return!1}n.transitional=function(e,t,s){var n=t&&a(t);return function(o,a,c){if(!1===e)throw new Error(function(e,t){return"[Axios v"+i.version+"] Transitional option '"+e+"'"+t+(s?". "+s:"")}(a," has been removed in "+t));return n&&!r[a]&&(r[a]=!0),!e||e(o,a,c)}},e.exports={isOlderVersion:a,assertOptions:function(e,t,s){if("object"!=typeof e)throw new TypeError("options must be an object");for(var i=Object.keys(e),n=i.length;n-- >0;){var r=i[n],o=t[r];if(o){var a=e[r],c=void 0===a||o(a,r,e);if(!0!==c)throw new TypeError("option "+r+" must be "+c)}else if(!0!==s)throw Error("Unknown option "+r)}},validators:n}},4867:function(e,t,s){"use strict";var i=s(1849),n=Object.prototype.toString;function r(e){return"[object Array]"===n.call(e)}function o(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==n.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===n.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),r(e))for(var s=0,i=e.length;s<i;s++)t.call(null,e[s],s,e);else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(null,e[n],n,e)}e.exports={isArray:r,isArrayBuffer:function(e){return"[object ArrayBuffer]"===n.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:c,isUndefined:o,isDate:function(e){return"[object Date]"===n.call(e)},isFile:function(e){return"[object File]"===n.call(e)},isBlob:function(e){return"[object Blob]"===n.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function s(s,i){c(t[i])&&c(s)?t[i]=e(t[i],s):c(s)?t[i]=e({},s):r(s)?t[i]=s.slice():t[i]=s}for(var i=0,n=arguments.length;i<n;i++)l(arguments[i],s);return t},extend:function(e,t,s){return l(t,(function(t,n){e[n]=s&&"function"==typeof t?i(t,s):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},4243:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataStorage=void 0;var s=function(){function e(){this.enabled=!1}return e.prototype.init=function(){try{if("undefined"==typeof localStorage)return void(this.enabled=!1);localStorage.setItem("test","dummy value"),localStorage.removeItem("test"),this.enabled=!0}catch(e){this.enabled=!1}},e.prototype.store=function(e,t,s){if(void 0===s&&(s=1800),this.enabled){var i=new Date,n={expires:i.setSeconds(i.getSeconds()+s),data:t};localStorage[e]=JSON.stringify(n)}else document.cookie=e+"="+t+";expires="+s/86400;return!0},e.prototype.retrieve=function(e){if(this.enabled){var t=localStorage[e];try{t=JSON.parse(t)}catch(e){t={}}if(!t||!t.hasOwnProperty("expires")||!t.hasOwnProperty("data"))return"";var s=parseInt(t.expires,10);return isNaN(s)&&(s=0),new Date>=new Date(s)?(localStorage[e]=null,""):t.data}return this.getCookie(e)},e.prototype.remove=function(e){this.enabled?delete localStorage[e]:document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},e.prototype.update=function(e,t,s){var i=this.retrieve(e);return"object"!=typeof i&&(i={}),i=Object.assign({},i,t),this.store(e,i,s),i},e.prototype.getCookie=function(e){var t=RegExp(e+"=.[^;]*"),s=document.cookie.match(t);return s?s[0].split("=")[1]:""},e}();t.DataStorage=s},8036:function(e,t,s){"use strict";var i=new(s(4243).DataStorage);i.init(),e.exports={DataStorage:i}},685:function(e,t,s){"use strict";t.XW=void 0,s(7372),s(238),s(6504),s(5503),s(5181);const i=s(1476);Object.defineProperty(t,"XW",{enumerable:!0,get:function(){return i.ProgrammeCardClient}}),s(158),s(5445),s(9788),s(4078),s(3486),s(7227),s(4461),s(8768),s(6090),s(5710)},8567:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DomainClient=void 0;const i=s(9669),n=s(7372),r=s(6504),o=s(5503);t.DomainClient=class{constructor(e,t,s,i,n,r){this.baseUrl=e,this.apiKey=t,this.model=s,this.version=i,this.isPublic=n,this.seed=r}async doRequest(e){const t=this.buildUrl(e),s={baseURL:this.baseUrl};void 0!==this.apiKey&&(s.headers={"x-api-key":this.apiKey});const n=(await i.default.get(t,s)).data;this.handleErrors(n);const r=[];for(const t of e){const e=n.data[t];e&&r.push(e)}return r}handleErrors(e){if(!e.status)throw new r.InternalServerException(e.message);if(400===e.status)throw new n.BadRequestException(e.message);if(404===e.status)throw new o.NotFoundException(e.message)}buildUrl(e){let t=`${this.shouldAddPublicPrefix()?"public/":""}${this.model}/${this.version}/?seed=${this.seed}`;for(const s of e)t+=`&id=${s}`;return t}shouldAddPublicPrefix(){return this.isPublic&&void 0===this.apiKey}}},7372:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BadRequestException=void 0;class s extends Error{}t.BadRequestException=s},238:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientException=void 0;class s extends Error{}t.ClientException=s},6504:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InternalServerException=void 0;class s extends Error{}t.InternalServerException=s},5503:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotFoundException=void 0;class s extends Error{}t.NotFoundException=s},5181:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyNotAvailableException=void 0;class s extends Error{}t.PropertyNotAvailableException=s},5662:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DateFactory=void 0,t.DateFactory=class{create(e,t){return new Date(t[0])}}},6911:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InternalLinkFactory=void 0,t.InternalLinkFactory=class{constructor(e){this.portalMap=e}create(e){const t=this.getPortalBaseUrl(e.getPortalType()),s=e.getUrl();return e.getUrl=()=>t+s,e}getPortalBaseUrl(e){return this.portalMap.get(e)||""}}},6619:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isModelDescription=void 0,t.isModelDescription=function(e){return e&&e.class&&(e.func||e.parameters)}},5710:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModelClient=void 0;const i=s(8567),n=s(238),r=s(5111);t.ModelClient=class{constructor(e,t,s,n){e&&s&&(this.modelFactory=new r.ModelFactory(n),this.domainClient=new i.DomainClient(e,t,this.getModelName(),this.getVersion(),this.isPublic(),s))}async fetch(e){const t=await this.fetchDescription(e);return this.modelFactory.fromDescription(t)}async fetchDescription(e){if(!this.domainClient)throw new n.ClientException("Offline mode active: did you provide all parameters in the constructor?");return(await this.domainClient.doRequest([e]))[0]}async fetchMultiple(e){const t=await this.fetchMultipleDescriptions(e);return this.modelFactory.fromDescriptions(t)}async fetchMultipleDescriptions(e){if(!this.domainClient)throw new n.ClientException("Offline mode active: did you provide all parameters in the constructor?");return await this.domainClient.doRequest(e)}fromDescription(e){return this.modelFactory.fromDescription(e)}fromDescriptions(e){return this.modelFactory.fromDescriptions(e)}}},5111:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModelFactory=void 0;const i=s(6911),n=s(5662),r=s(6619),o=s(5181);t.ModelFactory=class{constructor(e=new Map){const t=new Map;t.set("IInternalLink",new i.InternalLinkFactory(e)),t.set("SerializableDateTime",new n.DateFactory),this.customClassFactories=t}fromDescription(e){return this.unpackClass(e)}fromDescriptions(e){const t=[];for(const s of e)t.push(this.unpackClass(s));return t}unpackClass(e){const t={};for(const s in e.func)t[s]=this.getCallable(s,e);const s=this.customClassFactories.get(e.class);return void 0!==s?s.create(t,e.parameters):t}getCallable(e,t){const s=e.substr(3),i="canShow"+s,n=t.func[e];let a;return a=(0,r.isModelDescription)(n)?this.unpackClass(n):Array.isArray(n)?this.unpackArray(n):n,i in t.func?()=>{if(!1===t.func[i])throw new o.PropertyNotAvailableException(`Property '${s}' not available`);return a}:()=>a}unpackArray(e){return e.map((e=>(0,r.isModelDescription)(e)?this.unpackClass(e):e))}}},5445:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BestfitProgrammeClient=void 0;const i=s(5710);class n extends i.ModelClient{getModelName(){return"bestfit-programme"}getVersion(){return"v1"}isPublic(){return!1}}t.BestfitProgrammeClient=n},4461:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DotdigitalOrganisationClient=void 0;const i=s(5710);class n extends i.ModelClient{getModelName(){return"dotdigital-organisation"}getVersion(){return"v1"}isPublic(){return!1}}t.DotdigitalOrganisationClient=n},9788:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DotdigitalProgrammeClient=void 0;const i=s(5710);class n extends i.ModelClient{getModelName(){return"dotdigital-programme"}getVersion(){return"v1"}isPublic(){return!1}}t.DotdigitalProgrammeClient=n},1476:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgrammeCardClient=void 0;const i=s(5710);class n extends i.ModelClient{getModelName(){return"programme-card"}getVersion(){return"v1"}isPublic(){return!1}}t.ProgrammeCardClient=n},4078:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PublicSearchCountryFaqClient=void 0;const i=s(5710);class n extends i.ModelClient{getModelName(){return"search-country-faq"}getVersion(){return"v1"}isPublic(){return!0}}t.PublicSearchCountryFaqClient=n},7227:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PublicSearchDisciplineClient=void 0;const i=s(5710);class n extends i.ModelClient{getModelName(){return"search-discipline"}getVersion(){return"v1"}isPublic(){return!0}}t.PublicSearchDisciplineClient=n},158:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchProjectionClient=void 0;const i=s(5710);class n extends i.ModelClient{getModelName(){return"search-projection"}getVersion(){return"v1"}isPublic(){return!1}}t.SearchProjectionClient=n},3486:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SitemapCountriesInfoClient=void 0;const i=s(5710);class n extends i.ModelClient{getModelName(){return"sitemap-countries-info"}getVersion(){return"v1"}isPublic(){return!1}}t.SitemapCountriesInfoClient=n},8768:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SitemapRankingsInfoClient=void 0;const i=s(5710);class n extends i.ModelClient{getModelName(){return"sitemap-rankings-info"}getVersion(){return"v1"}isPublic(){return!1}}t.SitemapRankingsInfoClient=n},6090:function(e,t){"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),t.PortalType=void 0,(s=t.PortalType||(t.PortalType={})).MASTER="master",s.BACHELOR="bachelor",s.PHD="phd",s.SHORT="short",s.DISTANCE_LEARNING="distance_learning"},4073:function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(2755)),i(s(9290))},9057:function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){e.done?n(e.value):new s((function(t){t(e.value)})).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=s(9290),r=s(9397),o=s(8576);class a extends o.BaseWishlistCommandHandler{constructor(e,t){super(e),this.wishlistRepository=e,this.eventEmitter=t}validate(e){if("number"!=typeof e.studyId)throw new r.FavouriteInvalidStudyId(e.studyId)}handle({studyId:e,userId:t,expectedState:s}){return i(this,void 0,void 0,(function*(){try{this.validate({studyId:e,userId:t,expectedState:s});const i=yield this.getWishlist(t,s),r=n.Favourite.create(e);return i.addFavourite(r),yield this.wishlistRepository.addFavourite(i,r),yield this.emitFavouriteAddedEvent(t,e,r.dateAdded),{resultingState:i.stateHash}}catch(e){if(e instanceof n.StudyAlreadyFavourited)return{resultingState:s};throw e}}))}emitFavouriteAddedEvent(e,t,s){return i(this,void 0,void 0,(function*(){yield this.eventEmitter.emit(n.FavouriteAdded.EventType,n.FavouriteAdded.create(e,t,s))}))}}t.DefaultAddToWishlistCommandHandler=a},796:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddToWishlistCommand=class{constructor(e,t,s){this.userId=e,this.studyId=t,this.expectedState=s}}},8856:function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(796)),i(s(9057))},8576:function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){e.done?n(e.value):new s((function(t){t(e.value)})).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=s(9290);t.BaseWishlistCommandHandler=class{constructor(e){this.wishlistRepository=e,this.wishlistStateValidator=new n.WishlistStateValidator}getWishlist(e,t){return i(this,void 0,void 0,(function*(){const s=yield this.wishlistRepository.retrieveByUserId(e);if(null===s)throw new n.WishlistNotFound(e);return this.wishlistStateValidator.validate(s,t),s}))}}},884:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommandResult=class{constructor(e){this.resultingState=e}}},4083:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}(s(884))},5274:function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(7738)),i(s(9481)),i(s(3699))},9481:function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){e.done?n(e.value):new s((function(t){t(e.value)})).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=s(3699);t.DefaultGetWishlistQueryHandler=class{constructor(e){this.wishlistRepository=e}handle({userId:e}){return i(this,void 0,void 0,(function*(){let t=yield this.wishlistRepository.retrieveByUserId(e);return null===t&&(t=yield this.wishlistRepository.createWishlist(e)),new n.GetWishlistQueryResult(t)}))}}},3699:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetWishlistQueryResult=class{constructor(e){this.wishlist=e}}},7738:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetWishlistQuery=class{constructor(e){this.userId=e}}},2755:function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(8856)),i(s(1803)),i(s(5274)),i(s(214)),i(s(4083))},7986:function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){e.done?n(e.value):new s((function(t){t(e.value)})).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=s(9290),r=s(9397),o=s(8576);class a extends o.BaseWishlistCommandHandler{constructor(e,t){super(e),this.wishlistRepository=e,this.eventEmitter=t}validate(e){if("number"!=typeof e.studyId)throw new r.FavouriteInvalidStudyId(e.studyId)}handle({studyId:e,userId:t,expectedState:s}){return i(this,void 0,void 0,(function*(){try{this.validate({studyId:e,userId:t,expectedState:s});const i=yield this.getWishlist(t,s);i.removeFavourite(e);const r=this.getCurrentDate();return yield this.wishlistRepository.removeFavourite(i,n.Favourite.create(e),r),yield this.emitFavouriteRemovedEvent(t,e,r),{resultingState:i.stateHash}}catch(e){if(e instanceof n.FavouriteNotFound)return{resultingState:s};throw e}}))}getCurrentDate(){return new Date}emitFavouriteRemovedEvent(e,t,s){return i(this,void 0,void 0,(function*(){yield this.eventEmitter.emit(n.FavouriteRemoved.EventType,n.FavouriteRemoved.create(e,t,s))}))}}t.DefaultRemoveFromWishlistCommandHandler=a},182:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveFromWishlistCommand=class{constructor(e,t,s){this.userId=e,this.studyId=t,this.expectedState=s}}},1803:function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(182)),i(s(7986))},4706:function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,r){function o(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){e.done?n(e.value):new s((function(t){t(e.value)})).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=s(9290),r=s(5865),o=s(8576);class a extends o.BaseWishlistCommandHandler{constructor(e,t){super(e),this.wishlistRepository=e,this.eventEmitter=t}handle({userId:e,targetStudyId:t,position:s,expectedState:r}){return i(this,void 0,void 0,(function*(){const i=yield this.getWishlist(e,r);let o=null;if(0!==s){if(!i.favourites[s])throw new n.WishlistException("Position out of bounds");o=i.favourites[s].study.id}return i.changeOrder(t,o),yield this.wishlistRepository.setWishlistOrder(i,t,o),yield this.emitWishListOrderChangedEvent(e,t,o,new Date),{resultingState:i.stateHash}}))}emitWishListOrderChangedEvent(e,t,s,n){return i(this,void 0,void 0,(function*(){yield this.eventEmitter.emit(r.WishlistOrderChanged.EventType,r.WishlistOrderChanged.create(e,t,s,n))}))}}t.SetWishlistOrderCommandHandler=a},3456:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SetWishlistOrderCommand=class{constructor(e,t,s,i){this.userId=e,this.targetStudyId=t,this.position=s,this.expectedState=i}}},214:function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(3456)),i(s(4706))},9497:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(4806);class n{constructor(e,t){this.study=e,this.dateAdded=t}static create(e,t=new Date){return new n(new i.Study(e),t)}}t.Favourite=n},8772:function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(9497)),i(s(4806)),i(s(6200))},4806:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Study=class{constructor(e,t){this.id=e,this.card=t}canShowProgrammeCard(){return!!this.card}setProgrammeCard(e){this.card=e}}},6200:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(8862),n=s(7073);t.Wishlist=class{constructor(e){this.userId=e,this._favourites=[]}get favourites(){return this._favourites}get stateHash(){const e=this._favourites.map((e=>e.study.id));return n.StateHasher.hash(e)}changeOrder(e,t){if(e===t)throw new i.WishlistException("targetStudy cannot be the same study as referenceStudy");if(!this.isFavourited(e))throw new i.WishlistException("targetStudy does not exist");let s=-1;const n=this.removeAndRetrieveFavouriteFromFavourites(e);if(t){if(!this.isFavourited(t))throw new i.WishlistException("referenceStudy does not exist");s=this.favourites.findIndex((e=>e.study.id===t))}this.favourites.splice(s+1,0,n)}removeAndRetrieveFavouriteFromFavourites(e){const t=this.favourites.findIndex((t=>t.study.id===e)),s=this.favourites[t];return this.favourites.splice(t,1),s}addFavourite(e){if(this.containsStudy(e.study.id))throw new i.StudyAlreadyFavourited(this.userId,e.study.id);this._favourites.push(e)}removeFavourite(e){this.removeStudyFromFavourites(e)}containsStudy(e){return this._favourites.some((t=>t.study.id===e))}findFavourite(e){return this._favourites.find((t=>t.study.id===e))||null}removeStudyFromFavourites(e){let t=!1;if(this._favourites=this._favourites.filter((s=>{const i=s.study.id===e;return i&&(t=!0),!i})),!t)throw new i.FavouriteNotFound(this.userId,e)}toJSON(){return{userId:this.userId,favourites:this._favourites}}isFavourited(e){return this._favourites.some((t=>t.study.id===e))}}},6513:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(4928);class n extends i.WishlistEvent{constructor(e,t,s,i){super(i),this.userId=e,this.studyId=t,this.eventId=s,this.dateAdded=i,this.eventType=n.EventType,this.eventVersion="1.0.0"}static create(e,t,s=new Date){return new n(e,t,i.WishlistEvent.generateId(),s)}}n.EventType="FavouriteAdded",t.FavouriteAdded=n},8209:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(4928);class n extends i.WishlistEvent{constructor(e,t,s,i){super(i),this.userId=e,this.studyId=t,this.eventId=s,this.dateRemoved=i,this.eventType=n.EventType,this.eventVersion="1.0.0"}static create(e,t,s){return new n(e,t,i.WishlistEvent.generateId(),s)}}n.EventType="FavouriteRemoved",t.FavouriteRemoved=n},5865:function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(6513)),i(s(8209)),i(s(1298))},4928:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(9976);t.WishlistEvent=class{constructor(e){this.timestamp=e}static generateId(){return i.v4()}}},1298:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(4928);class n extends i.WishlistEvent{constructor(e,t,s,i,r){super(r),this.userId=e,this.targetStudyId=t,this.referenceStudyId=s,this.eventId=i,this.dateChanged=r,this.eventType=n.EventType,this.eventVersion="1.0.0"}static create(e,t,s,r=new Date){return new n(e,t,s,i.WishlistEvent.generateId(),r)}}n.EventType="WishlistOrderChanged",t.WishlistOrderChanged=n},8647:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3720);class n extends i.WishlistException{constructor(){super("Favourite found without a study"),this.name="FavouriteFoundWithoutStudy"}}t.FavouriteFoundWithoutStudy=n},9397:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3720);class n extends i.WishlistException{constructor(e){super(`Invalid study id, expected to be of type number: ${JSON.stringify(e)}`),this.studyId=e,this.name="FavouriteInvalidStudyId"}}t.FavouriteInvalidStudyId=n},447:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3720);class n extends i.WishlistException{constructor(e,t){super(`Favourite with study id ${t} from wishlist ${e} not found.`),this.name="FavouriteNotFound"}}t.FavouriteNotFound=n},739:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3720);class n extends i.WishlistException{constructor(){super("ExpectedState doesn't match current state of wishlist"),this.name="IncorrectWishlistState"}}t.IncorrectWishlistState=n},8862:function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(8647)),i(s(447)),i(s(739)),i(s(8180)),i(s(9094)),i(s(3720))},8180:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3720);class n extends i.WishlistException{constructor(e,t){super(`Favourite with study id ${t} from wishlist ${e} already exists.`),this.wishlistId=e,this.studyId=t,this.name="StudyAlreadyFavourited"}}t.StudyAlreadyFavourited=n},3720:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s extends Error{constructor(e){super(e),this.name="WishlistException"}}t.WishlistException=s},9094:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(3720);class n extends i.WishlistException{constructor(e){super(`Wishlist with id ${e} not found`),this.wishlistId=e,this.name="WishlistNotFound"}}t.WishlistNotFound=n},9290:function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(8772)),i(s(8862)),i(s(7073)),i(s(5865))},7073:function(e,t,s){"use strict";function i(e){for(var s in e)t.hasOwnProperty(s)||(t[s]=e[s])}Object.defineProperty(t,"__esModule",{value:!0}),i(s(2386)),i(s(709))},2386:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(2783);t.StateHasher=class{static hash(e){return i(JSON.stringify(e)).toString()}}},709:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(739);t.WishlistStateValidator=class{validate(e,t){if(e.stateHash!==t)throw new i.IncorrectWishlistState}}},756:function(e,t,s){"use strict";var i;s.d(t,{iQ:function(){return o},QO:function(){return r},q1:function(){return n}}),function(e){e.SESSION_SERVICE_READY="SessionServiceReady",e.SESSION_CREATED="SessionCreated",e.SESSION_DESTROYED="SessionDestroyed"}(i||(i={}));class n{constructor(e){this.eventType=n.EventType,this.timestamp=new Date,this.sessionService=e}}n.EventType=i.SESSION_SERVICE_READY;class r{constructor(){this.eventType=r.EventType,this.timestamp=new Date}}r.EventType=i.SESSION_DESTROYED;class o{constructor(e){this.eventType=o.EventType,this.timestamp=new Date,this.session=e}}o.EventType=i.SESSION_CREATED},8887:function(e,t,s){"use strict";var i;s.d(t,{r:function(){return n}}),function(e){e.WISHLIST_SERVICE_READY="WishlistServiceReady"}(i||(i={}));class n{constructor(e){this.wishlistService=e,this.eventType=n.EventType,this.timestamp=new Date}}n.EventType=i.WISHLIST_SERVICE_READY},7366:function(e,t){"use strict";t.Z=(e,t)=>fetch(e,t)},8632:function(e,t){"use strict";t.Z={General:"General",JWTAuth:"JWTAuth",StudentsAPIRequest:"StudentsAPIRequest",SLRequest:"SLRequest"}},2910:function(e,t){"use strict";t.Z={JSError:"JSError",JWTAuthError:"JWTAuthError",StudentsAPIError:"StudentsAPIError",SLError:"SLError"}},9999:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});class i{constructor(e){this.config=e}static _getUri(){return window.location.toString()}track(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.url=i._getUri(),this.config.tags=this.config.tags||[];let s=this._cleanCombineTwoArrays(e.tags,this.config.tags);if(e=Object.assign(e,this.config),s.length>0&&(e.tags=s),!t)return this._sendRequest(i._getRequestOptions(e),t);this._sendRequest(i._getRequestOptions(e),t)}addConstantTag(e){if("string"!=typeof e)return;let t=!1;this.config.tags=this.config.tags||[],this.config.tags.map((s=>{s.toLowerCase()===e.toLowerCase()&&(t=!0)})),t||this.config.tags.push(e)}_cleanCombineTwoArrays(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).concat(e);return t.filter(((e,s)=>t.indexOf(e)===s))}_sendRequest(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(((s,i)=>{let n=new XMLHttpRequest;t&&(n.onreadystatechange=()=>{n.readyState===XMLHttpRequest.DONE&&(200===n.status?s(JSON.parse(n.responseText)):i(JSON.parse(n.responseText)))}),n.open(e.method,e.url),n.setRequestHeader("Content-Type","application/json"),n.send(e.body)}))}static _getRequestOptions(e){return{url:"https://c6coiy9r7a.execute-api.eu-west-1.amazonaws.com/prd/events",method:"PUT",body:JSON.stringify(e)}}}},4971:function(e,t){"use strict";t.Z={Error:"Error"}},3717:function(e,t,s){"use strict";s.d(t,{G:function(){return n}});var i=s(8036);class n{async get(e){return i.DataStorage.retrieve(e)}async set(e,t,s){return i.DataStorage.store(e,t,s)}async remove(e){return i.DataStorage.remove(e)}}},2198:function(e,t){"use strict";t.Z={stage:"prd",studentApiBaseUrl:"https://studentapi.prtl.co",hubUrl:"https://studentsystem.prtl.co/studentjs/dist/storageHub.html?v2",serviceLayerBaseUrl:"https://reflectorjwt.prtl.co",wishlistServiceBaseUrl:"https://decisionmakingapi.prtl.co",tokenServiceBaseUrl:"https://tokens.prtl.co",wssEndpoint:"wss://studentwebsocketservice.prtl.co/v1",allowedOrigins:[/((www)|(cypress\.rc)|([0-9]{4,16}(-bob)?\.rc))\.mastersportal.((com)|(fyi))/,/((www)|(cypress\.rc)|([0-9]{4,16}(-bob)?\.rc))\.bachelorsportal\.((com)|(fyi))/,/((www)|(cypress\.rc)|([0-9]{4,16}(-bob)?\.rc))\.phdportal\.((com)|(fyi))/,/((www)|(cypress\.rc)|([0-9]{4,16}(-bob)?\.rc))\.preparationcoursesportal\.((com)|(fyi))/,/((www)|(cypress\.rc)|([0-9]{4,16}(-bob)?\.rc))\.distancelearningportal\.((com)|(fyi))/,/((www)|(cypress\.rc)|([0-9]{4,16}(-bob)?\.rc))\.shortcoursesportal\.((com)|(fyi))/,/personalitytest\.studyportals\.com/,/countrytest\.studyportals\.com/,/scholarship\.mastersportal\.com/]}},3235:function(e,t,s){"use strict";s.d(t,{f:function(){return i}});class i{constructor(e){this.callback=e}async notify(e){try{await this.callback(e)}catch(e){}}}},1237:function(e,t,s){"use strict";s.r(t);var i,n=s(2198),r=s(7366);class o{constructor(){this.subscribers=new Map,this.pastEvents=new Map}subscribe(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=this.subscribers.get(e)||[];i.push(t),this.subscribers.set(e,i),s&&this.replayEvents(e,t)}notify(e,t){const s=this.subscribers.get(e);s&&s.forEach((e=>e.notify(t)));const i=this.pastEvents.get(e)||[];i.push(t),this.pastEvents.set(e,i)}replayEvents(e,t){const s=this.pastEvents.get(e)||[];for(let e of s)t.notify(e)}}class a{constructor(e,t){this.eventType=e,this.handler=t}canHandle(e){return"string"==typeof this.eventType?this.eventType.toLowerCase()===e.toLowerCase():this.eventType.test(e)}handle(e){this.handler.notify(e)}}!function(e){e.WEBSOCKET_SERVICE_READY="WebsocketServiceReady"}(i||(i={}));class c{constructor(e){this.eventAggregationService=e,this.eventType=c.EventType,this.timestamp=new Date}}c.EventType=i.WEBSOCKET_SERVICE_READY;var u=s(756);s(8887);class l extends Error{constructor(e){super(e),this.name="RefreshTokenError",Object.setPrototypeOf(this,l.prototype)}}var d=s(3235);function h(e,t,s){const i=s.value;return s.value=async function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];try{return await i.apply(this,t)}catch(e){throw y&&y.error(e,t),e}},s}function f(e,t,s){const i=s.value;return s.value=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];try{return i.apply(this,t)}catch(e){throw y&&y.error(e,t),e}},s}const p={accessToken:"a0e7bd5089784ef6b69e99066c272f2f",captureUncaught:!1,captureUnhandledRejections:!1,payload:{environment:n.Z.stage}},y=s.g&&s.g.rollbar?new s.g.rollbar(p):null;class v{constructor(e){this.callback=e}notify(e,t){try{this.callback(e,t)}catch(e){}}}class g{constructor(){this.isOpen=!1,this.isOpeningPromisePresent=!1,this.isReadyCallback=()=>{}}open(){this.isOpen=!0,this.isReadyCallback(),this.reset()}close(){this.isOpen=!1,this.reset()}reset(){this.isReadyCallback=()=>{},this.isOpeningPromisePresent=!1}untilOpen(){return this.isOpeningPromisePresent?this.isOpeningPromisePresent:this.isOpeningPromisePresent=new Promise((e=>{this.isOpen?e(null):this.isReadyCallback=e}))}}class m{constructor(e){this.message=e}}var w=function(e,t,s,i){var n,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,s,o):n(t,s))||o);return r>3&&o&&Object.defineProperty(t,s,o),o},S=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class b{constructor(e,t,s,i){this.browserSessionStorageKey="LoggedInStatus",this.isLoggedInStatus=!1,this.sessionService=e,this.studentApiDriver=t,this.eventAggregationService=s,this.browserSessionStorage=i,this.deferred=new g,this.subscribers=[]}initialize(){this.eventAggregationService.subscribeTo(u.q1.EventType,new d.f((()=>this.onSessionServiceReady())),!0),this.eventAggregationService.subscribeTo(u.iQ.EventType,new d.f((async()=>this.onSessionCreated()))),this.eventAggregationService.subscribeTo(u.QO.EventType,new d.f((async()=>this.onSessionDestroyed())))}async onSessionServiceReady(){const e=await this.sessionService.getSession();this.setLoginStatus(null!==e),this.deferred.open()}onSessionCreated(){this.setLoginStatus(!0),this.notifySubscribers()}onSessionDestroyed(){this.setLoginStatus(!1),this.notifySubscribers()}notifySubscribers(){this.subscribers.forEach((e=>{e.notify(null,{LoggedInStatus:this.isLoggedInStatus})}))}async subscribe(e){await this.deferred.untilOpen();const t=new v(e);t.notify(null,{LoggedInStatus:this.isLoggedInStatus}),this.subscribers.push(t)}async getTokenSession(){await this.deferred.untilOpen();const e=await this.sessionService.getSession();if(null===e)throw new m("No session exists");return e}async forgotPassword(e){return this.studentApiDriver.resetPassword(e)}async sessionLogout(){return await this.deferred.untilOpen(),(await this.getTokenSession()).destroy()}async subjectLogout(){return await this.deferred.untilOpen(),this.sessionService.globalLogout()}async getAccessToken(){return await this.deferred.untilOpen(),(await this.getTokenSession()).getAccessToken()}async getIdentityId(){return await this.deferred.untilOpen(),(await this.getTokenSession()).getUser().identityId}async getEmail(){return await this.deferred.untilOpen(),(await this.getTokenSession()).getUser().email}isLoggedIn(){return"true"===this.browserSessionStorage.getItem(this.browserSessionStorageKey)}setLoginStatus(e){this.isLoggedInStatus=e,this.browserSessionStorage.setItem(this.browserSessionStorageKey,this.isLoggedInStatus)}}w([f,S("design:type",Function),S("design:paramtypes",[]),S("design:returntype",void 0)],b.prototype,"initialize",null),w([h,S("design:type",Function),S("design:paramtypes",[]),S("design:returntype",Promise)],b.prototype,"onSessionServiceReady",null),w([f,S("design:type",Function),S("design:paramtypes",[]),S("design:returntype",void 0)],b.prototype,"onSessionCreated",null),w([f,S("design:type",Function),S("design:paramtypes",[]),S("design:returntype",void 0)],b.prototype,"onSessionDestroyed",null),w([f,S("design:type",Function),S("design:paramtypes",[]),S("design:returntype",void 0)],b.prototype,"notifySubscribers",null),w([h,S("design:type",Function),S("design:paramtypes",[Function]),S("design:returntype",Promise)],b.prototype,"subscribe",null),w([h,S("design:type",Function),S("design:paramtypes",[String]),S("design:returntype",Promise)],b.prototype,"forgotPassword",null),w([h,S("design:type",Function),S("design:paramtypes",[]),S("design:returntype",Promise)],b.prototype,"sessionLogout",null),w([h,S("design:type",Function),S("design:paramtypes",[]),S("design:returntype",Promise)],b.prototype,"subjectLogout",null),w([h,S("design:type",Function),S("design:paramtypes",[]),S("design:returntype",Promise)],b.prototype,"getAccessToken",null),w([h,S("design:type",Function),S("design:paramtypes",[]),S("design:returntype",Promise)],b.prototype,"getIdentityId",null),w([h,S("design:type",Function),S("design:paramtypes",[]),S("design:returntype",Promise)],b.prototype,"getEmail",null),w([f,S("design:type",Function),S("design:paramtypes",[]),S("design:returntype",Boolean)],b.prototype,"isLoggedIn",null);var E,T=s(6298),O=s(3717);class P{constructor(){this.cachedTime={time:null,offset:null},this.storage=new O.G,this.storageKey="SessionService/CachedTime",this.apiEndpoint="https://worldtimeapi.org/api/timezone/Etc/GMT"}get fetch(){return r.Z}async syncDate(){try{const e=await this.fetch(this.apiEndpoint,{}),t=await e.json();this.storeTimeInCache({time:t.unixtime,offset:Math.round(t.unixtime-this.getCurrentTime())})}catch(e){this.storeTimeInCache({time:this.getCurrentTime(),offset:0})}this.cachedTime=JSON.parse(await this.storage.get(this.storageKey))}async now(){const e=await this.storage.get(this.storageKey);return e?this.cachedTime=JSON.parse(e):await this.syncDate(),this.getCurrentTime()+this.cachedTime.offset}async storeTimeInCache(e){await this.storage.set(this.storageKey,JSON.stringify(e),2592e3)}getCurrentTime(){return Math.round(Date.now()/1e3)}}class C extends Error{constructor(e){super(e),this.name="InvalidAccessTokenError",Object.setPrototypeOf(this,C.prototype)}}class R{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this.accessToken=e,this.refreshToken=t,this.serverTime=new P}static create(e){return new R(e.accessToken,e.refreshToken)}isNewerThan(e){const t=this.getPayload(),s=e.getPayload();return t.exp>s.exp}getPayload(){try{const e=this.accessToken.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(window.atob(e))}catch(e){throw new C("Not a valid JWT.")}}async isExpired(){return null===this.accessToken||this.getPayload().exp-5<=await this.serverTime.now()}toJSON(){return{accessToken:this.accessToken,refreshToken:this.refreshToken}}}!function(e){e.SESSION_REFRESHED="SessionRefreshed",e.SESSION_REPOSITORY_READY="SessionRepositoryReady"}(E||(E={}));class _{constructor(){this.eventType=_.EventType,this.timestamp=new Date}}_.EventType=E.SESSION_REFRESHED;class A{constructor(e,t){this.identityId=e,this.email=t}}var I=function(e,t,s,i){var n,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,s,o):n(t,s))||o);return r>3&&o&&Object.defineProperty(t,s,o),o},x=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class k{constructor(e,t){this.user=null,this.credentials=null,this.serverTime=new P,this.isUseablePromise=null,this.accessTokenPromise=null,this.tokenService=e,this.eventAggregationService=t}async getAccessToken(){if(null!==this.accessTokenPromise)return this.accessTokenPromise;try{return this.accessTokenPromise=this.getExistingOrRefreshedAccessToken(),await this.accessTokenPromise}finally{this.accessTokenPromise=null}}async getExistingOrRefreshedAccessToken(){return await this.shouldRefresh()?(await this.refreshCredentials()).accessToken:this.credentials.accessToken}async getRefreshToken(){return this.credentials.refreshToken}async destroy(){try{const e=await this.getAccessToken();await this.tokenService.logoutSession(e)}finally{this.eventAggregationService.publishTo(u.QO.EventType,new u.QO)}}getUser(){return this.user}async getCredentials(){return this.credentials}setCredentials(e){if(!e.refreshToken)throw this.eventAggregationService.publishTo(u.QO.EventType,new u.QO),new l("Not a valid refresh token.");if(null!==e.accessToken){const t=e.getPayload();this.setUser(t)}this.credentials=e}setUser(e){this.user=new A(e.sub,e.email)}isUsable(){return null!==this.isUseablePromise||(this.isUseablePromise=new Promise((async e=>{if(!await this.shouldRefresh())return e(!0);try{await this.getAccessToken()}catch{e(!1)}e(!0)}))),this.isUseablePromise}async refreshCredentials(){try{const e=await this.tokenService.refreshCredentials(this.credentials.refreshToken);return this.setCredentials(e),this.eventAggregationService.publishTo(_.EventType,new _),this.credentials}catch(e){throw e instanceof l&&this.eventAggregationService.publishTo(u.QO.EventType,new u.QO),e}}async shouldRefresh(){return null===this.credentials||this.credentials.isExpired()}}I([h,x("design:type",Function),x("design:paramtypes",[]),x("design:returntype",Promise)],k.prototype,"getAccessToken",null),I([h,x("design:type",Function),x("design:paramtypes",[]),x("design:returntype",Promise)],k.prototype,"getRefreshToken",null),I([h,x("design:type",Function),x("design:paramtypes",[]),x("design:returntype",Promise)],k.prototype,"destroy",null),I([f,x("design:type",Function),x("design:paramtypes",[]),x("design:returntype",Object)],k.prototype,"getUser",null),I([h,x("design:type",Function),x("design:paramtypes",[]),x("design:returntype",Promise)],k.prototype,"getCredentials",null),I([h,x("design:type",Function),x("design:paramtypes",[R]),x("design:returntype",void 0)],k.prototype,"setCredentials",null),I([h,x("design:type",Function),x("design:paramtypes",[Object]),x("design:returntype",void 0)],k.prototype,"setUser",null),I([h,x("design:type",Function),x("design:paramtypes",[]),x("design:returntype",Promise)],k.prototype,"isUsable",null);var j=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class W{constructor(e,t){this.eventAggregationService=e,this.tokenService=t}create(e){const t=new k(this.tokenService,this.eventAggregationService);return t.setCredentials(e),t}}!function(e,t,s,i){var n,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,s,o):n(t,s))||o);r>3&&o&&Object.defineProperty(t,s,o)}([f,j("design:type",Function),j("design:paramtypes",[R]),j("design:returntype",Object)],W.prototype,"create",null);class F extends Error{constructor(){super("The token is not a valid refresh token."),this.name="InvalidRefreshTokenError",Object.setPrototypeOf(this,F.prototype)}}class D extends Error{constructor(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:""),this.name="SessionNotFoundError",this.error=e,Object.setPrototypeOf(this,D.prototype)}}class M{constructor(){this.eventType=M.EventType,this.timestamp=new Date}}M.EventType=E.SESSION_REPOSITORY_READY;var U=s(8036),N=s(6808);class L{constructor(){this.sixMonthInSeconds=15552e3,this.cookieKey="SessionService-credentials",this.localStorageKey="SessionService/credentials",this.cookies=N,this.localStorage=U.DataStorage}getCredentials(){const e=this.getLocalStorageCredentials(),t=this.getCookiesCredentials();return e&&t?e.isNewerThan(t)?e:t:e||t||null}storeCredentials(e){const t=JSON.stringify(e);this.localStorage.store(this.localStorageKey,t,this.sixMonthInSeconds),this.cookies.set(this.cookieKey,t,{expires:this.sixMonthInSeconds})}clearCredentials(){this.localStorage.remove(this.localStorageKey),this.cookies.remove(this.cookieKey)}getCookiesCredentials(){const e=this.cookies.getJSON(this.cookieKey);return void 0===e?null:R.create(e)}getLocalStorageCredentials(){const e=this.localStorage.retrieve(this.localStorageKey);return e?R.create(JSON.parse(e)):null}}var q=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class B{constructor(e,t){this.eventAggregationService=e,this.tokenSessionFactory=t,this.localCredentialStorage=new L}async initialize(){try{const e=await this.get();await this.save(e)}catch(e){}this.eventAggregationService.publishTo(M.EventType,new M)}async get(){try{const e=await this.getCredentials();if(null===e)throw new D("There is no session in the session store");return this.tokenSessionFactory.create(e)}catch(e){if(e instanceof C||e instanceof F||e instanceof D)throw e;throw new D(e.message,e)}}async save(e){const t=await e.getCredentials();this.localCredentialStorage.storeCredentials(t)}async clear(){this.localCredentialStorage.clearCredentials()}async getCredentials(){return this.localCredentialStorage.getCredentials()}}!function(e,t,s,i){var n,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,s,o):n(t,s))||o);r>3&&o&&Object.defineProperty(t,s,o)}([h,q("design:type",Function),q("design:paramtypes",[]),q("design:returntype",Promise)],B.prototype,"initialize",null);class H extends d.f{constructor(e){super(e),this.lastEventSent=""}async notify(e){const t=JSON.stringify(e);this.lastEventSent!==t&&(this.lastEventSent=t,await super.notify(e))}}var J=function(e,t,s,i){var n,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,s,o):n(t,s))||o);return r>3&&o&&Object.defineProperty(t,s,o),o},z=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class Q{constructor(e,t,s){this.isReady=!1,this.session=null,this.tokenRepository=e,this.eventAggregationService=t,this.tokenService=s,this.deferred=new g}initialize(){this.eventAggregationService.subscribeTo(M.EventType,this.onSessionRepositoryReady,!0),this.eventAggregationService.subscribeTo(u.QO.EventType,this.onSessionDestroyed),this.eventAggregationService.subscribeTo(_.EventType,this.onSessionRefreshed)}get onSessionRepositoryReady(){return new d.f((async()=>{this.openSessionService()}))}get onSessionRefreshed(){return new H((async()=>{await this.saveRefreshedSession()}))}get onSessionDestroyed(){return new d.f((async()=>{await this.clearSession()}))}async getSession(){try{return null===this.session&&await this.loadSession(),await this.session}catch(e){return null}}async setSession(e){try{await this.deferred.untilOpen(),this.session=e,await e.getAccessToken(),await this.tokenRepository.save(e),this.eventAggregationService.publishTo(u.iQ.EventType,new u.iQ(e))}catch(e){this.session=null,this.eventAggregationService.publishTo(u.QO.EventType,new u.QO)}}async globalLogout(){try{const e=await this.tokenRepository.get(),t=await e.getAccessToken();await this.tokenService.logoutSubject(t)}catch(e){}this.eventAggregationService.publishTo(u.QO.EventType,new u.QO)}openSessionService(){this.deferred.open(),this.isReady=!0;const e=new u.q1(this);this.eventAggregationService.publishTo(u.q1.EventType,e)}async saveRefreshedSession(){await this.tokenRepository.save(await this.session)}async clearSession(){this.session=null,await this.tokenRepository.clear()}loadSession(){null===this.session&&(this.session=this.getSessionIfUsable())}async getSessionIfUsable(){try{const e=await this.tokenRepository.get();return await e.isUsable()?e:null}catch(e){return null}}}J([f,z("design:type",Function),z("design:paramtypes",[]),z("design:returntype",void 0)],Q.prototype,"initialize",null),J([h,z("design:type",Function),z("design:paramtypes",[]),z("design:returntype",Promise)],Q.prototype,"getSession",null),J([h,z("design:type",Function),z("design:paramtypes",[Object]),z("design:returntype",Promise)],Q.prototype,"setSession",null),J([h,z("design:type",Function),z("design:paramtypes",[]),z("design:returntype",Promise)],Q.prototype,"globalLogout",null),J([f,z("design:type",Function),z("design:paramtypes",[]),z("design:returntype",void 0)],Q.prototype,"openSessionService",null),J([h,z("design:type",Function),z("design:paramtypes",[]),z("design:returntype",Promise)],Q.prototype,"saveRefreshedSession",null),J([h,z("design:type",Function),z("design:paramtypes",[]),z("design:returntype",Promise)],Q.prototype,"clearSession",null);var G,Z=s(3300),V=s.n(Z);class K extends Error{constructor(){super("There was a problem while logging out."),this.name="LogoutError",Object.setPrototypeOf(this,K.prototype)}}!function(e){e.Session="session",e.Subject="subject"}(G||(G={}));const $=new class{constructor(e){this.wssEndpoint=e,this.subscribers=[]}set EventAggregationService(e){this.eventAggregationService=e}async initialize(e){this.eventAggregationService.publishTo(c.EventType,new c(this.eventAggregationService)),this.sessionService=e,await this.isUserLoggedIn()&&await this.connect()}subscribe(){this.eventAggregationService.subscribeTo(u.q1.EventType,this,!0),this.eventAggregationService.subscribeTo(u.iQ.EventType,this)}async notify(e){e.eventType===u.q1.EventType&&await this.initialize(e.sessionService),e.eventType===u.iQ.EventType&&await this.connect()}async connect(){try{const e=await this.getAccessToken(),t=window.location&&window.location.href?encodeURIComponent(window.location.href):"";this.socket=new WebSocket(`${this.wssEndpoint}?token=${e}&url=${t}`),this.addWebsocketEventListeners()}catch(e){if(!(e instanceof l))throw e;this.eventAggregationService.publishTo(u.QO.EventType,new u.QO)}}addSubscriber(e){this.subscribers.push(e)}async isUserLoggedIn(){return null!==await this.sessionService.getSession()}addWebsocketEventListeners(){this.socket.addEventListener("message",(e=>{this.onMessage(JSON.parse(e.data))})),this.socket.addEventListener("close",(()=>{this.reconnect()}))}reconnect(){setTimeout((()=>this.connect()),5e3)}async getAccessToken(){return(await this.sessionService.getSession()).getAccessToken()}onMessage(e){this.subscribers.filter((t=>t.canHandle(e.eventType))).forEach((t=>t.handle(e)))}}(`${n.Z.wssEndpoint}`),Y=new class{constructor(e){this.webSocketGateway=e,this.groupEventEmitter=new o}subscribeToWebSocketEvent(e,t){this.webSocketGateway.addSubscriber(new a(e,t))}subscribeTo(e,t,s){this.groupEventEmitter.subscribe(e,t,s)}publishTo(e,t){this.groupEventEmitter.notify(e,t)}}($),X=new class{constructor(e){this.baseUrl=e}signRequest(e,t){e.headers.append("Authorization",t)}getRefreshTokenRequestOptions(e){const t=new Z.Request(`${this.baseUrl}/refresh`,{method:"GET"});return this.signRequest(t,e),t}getLogoutTokenRequestOptions(e,t){const s=new Z.Request(`${this.baseUrl}/revoke?mode=${t}`,{method:"DELETE"});return this.signRequest(s,e),s}async refreshCredentials(e){const t=await this.fetch(this.getRefreshTokenRequestOptions(e));if(t.ok){const e=await t.json();return new R(e.accessToken,e.refreshToken)}if(401===t.status)throw new l("Refresh token unauthorized");throw new l("Error while refreshing")}async logoutSession(e){if(!(await this.fetch(this.getLogoutTokenRequestOptions(e,G.Session))).ok)throw new K}async logoutSubject(e){if(!(await this.fetch(this.getLogoutTokenRequestOptions(e,G.Subject))).ok)throw new K}fetch(e,t){return V()(e,t)}}(n.Z.tokenServiceBaseUrl),ee=new W(Y,X),te=new class{constructor(e,t){this.eventAggregationService=e,this.tokenSessionFactory=t}create(){return new B(this.eventAggregationService,this.tokenSessionFactory)}}(Y,ee),se=te.create(),ie=new Q(se,Y,X),ne=new class{constructor(e,t){this.baseUrl=e,this.fetch=t}resetPassword(e){return this.sendRequest(T.R.POST,"/forgot-password",{Username:e})}sendRequest(e,t,s){let i={method:e,headers:{"Content-Type":"application/json"}};return e.toUpperCase()!==T.R.GET&&s&&(i.body=JSON.stringify(s)),this.fetch(this.baseUrl+t,i).then((e=>e.json()))}}(n.Z.studentApiBaseUrl,r.Z),re=new b(ie,ne,Y,new class{getItem(e){try{return window.sessionStorage.getItem(e)}catch(e){return null}}setItem(e,t){try{window.sessionStorage.setItem(e,t)}catch(e){}}}),oe=new Date;async function ae(e){const t=ee.create(e);await ie.setSession(t),function(){const e=new URL(location.href);e.searchParams.delete("refreshToken"),window.history.pushState({},document.title,e.toString())}()}$.EventAggregationService=Y,window.AuthController=re,window.EventAggregationService=Y,window.SessionService=ie,window.SessionFactory=ee,document.addEventListener("student_logged_in",(e=>{var t,s;ae(new R(null==e||null===(t=e.detail)||void 0===t?void 0:t.accessToken,null==e||null===(s=e.detail)||void 0===s?void 0:s.refreshToken))})),window.addEventListener("storage",(async e=>{if("SessionService/credentials"===e.key)try{const t=JSON.parse(e.newValue),s=JSON.parse(t.data);if(!s.accessToken||!s.refreshToken)return;const i=new R(s.accessToken,s.refreshToken),n=await ie.getSession();if(null!==n)return n.setCredentials(i);ae(i)}catch(e){}}));const ce=[new class{constructor(e,t){this.eventAggregationService=e,this.tokenSessionFactory=t}subscribe(){this.eventAggregationService.subscribeTo(u.q1.EventType,this,!0)}async notify(e){"complete"===document.readyState?await this.setSessionBasedOnRefreshTokenInUrl(e.sessionService):document.addEventListener("readystatechange",(async t=>{"complete"===t.target.readyState&&await this.setSessionBasedOnRefreshTokenInUrl(e.sessionService)}))}async setSessionBasedOnRefreshTokenInUrl(e){const t=new URL(window.location).searchParams.get("refreshToken");null!==t&&await this.setSessionFromCredentials(e,new R(null,t))}async setSessionFromCredentials(e,t){const s=this.tokenSessionFactory.create(t);await e.setSession(s),this.removeRefreshTokenFromURL()}removeRefreshTokenFromURL(){const e=new URL(location.href);e.searchParams.delete("refreshToken"),window.history.pushState({},document.title,e.toString())}}(Y,ee),$,new class{constructor(e,t){this.eventAggregationService=e,this.startTime=t,this.hasTracked=!1}subscribe(){this.eventAggregationService.subscribeTo(u.q1.EventType,this,!0)}notify(e){this.readyTime=new Date,document.addEventListener("DataTrackerReady",(()=>{this.trackSessionServiceReadyEvent()})),void 0!==window.snowplow&&this.trackSessionServiceReadyEvent()}trackSessionServiceReadyEvent(){null===this.readyTime||this.hasTracked||(window.snowplow("trackStructEvent",{category:"SessionService",action:"initializing",label:"completed",value:this.readyTime.getTime()-this.startTime.getTime()}),this.hasTracked=!0)}}(Y,oe),new class{constructor(e){this.eventAggregationService=e}subscribe(){this.eventAggregationService.subscribeTo(u.q1.EventType,this,!0),this.eventAggregationService.subscribeTo(u.iQ.EventType,this,!0)}async notify(e){if(e.eventType===u.iQ.EventType)return this.initializeGoogleAnalyticsIdentityId(e.session);e.eventType===u.q1.EventType&&await this.handleSessionServiceReadyEvent(e)}async handleSessionServiceReadyEvent(e){const t=e.sessionService,s=await t.getSession();null!==s&&this.initializeGoogleAnalyticsIdentityId(s)}initializeGoogleAnalyticsIdentityId(e){void 0!==window.ga&&window.ga("set","userId",e.getUser().identityId)}}(Y),new class{constructor(e){this.eventAggregationService=e}subscribe(){this.eventAggregationService.subscribeTo(u.q1.EventType,this,!0),this.eventAggregationService.subscribeTo(u.iQ.EventType,this,!0)}async notify(e){if(e.eventType===u.iQ.EventType)return this.initializeRollbarIdentity(e.session);e.eventType===u.q1.EventType&&await this.handleSessionServiceReadyEvent(e)}async handleSessionServiceReadyEvent(e){const t=e.sessionService,s=await t.getSession();null!==s&&this.initializeRollbarIdentity(s)}initializeRollbarIdentity(e){"undefined"!=typeof Rollbar&&Rollbar.configure({payload:{person:{id:e.getUser().identityId}}})}}(Y)];for(const e of ce)e.subscribe();re.initialize(),ie.initialize(),se.initialize()},6298:function(e,t,s){"use strict";var i;s.d(t,{R:function(){return i}}),function(e){e.GET="GET",e.POST="POST",e.PATCH="PATCH",e.OPTIONS="OPTIONS",e.DELETE="DELETE"}(i||(i={}))},9566:function(e,t,s){"use strict";s.r(t);var i=s(2198),n=s(7366),r=s(8632),o=s(2910),a=s(4971),c=s(9999);const u={environment:i.Z.stage?i.Z.stage:"dev",team:"xm",product:"StudentJS",category:"Profile"},l=new c.Z(u);var d,h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(f(t),e){if(e instanceof Error){let{name:s,message:i,stack:n}=e;t.eventData=JSON.stringify({name:s,message:i,stack:n})}else t.eventData="object"==typeof e?JSON.stringify(e):"string"==typeof e?e:e.toString();t.payload&&(t.payload=JSON.stringify(t.payload),t.eventData.toLowerCase().includes("password")||t.payload.toLowerCase().includes("password")||(t.eventData+=t.payload),delete t.payload)}throw l.track(t),e};function f(e){void 0===e.action&&(e.action=r.Z.General),void 0===e.label&&(e.label=o.Z.JSError),void 0===e.tags&&(e.tags=[a.Z.Error])}!function(e){e.Country="country",e.Discipline="discipline"}(d||(d={}));var p,y=s(6298);class v{constructor(e,t,s,i){this.baseUrl=e,this.authController=t,this.fetch=s,this.trackError=i}getInterests(e){const t=v.getInterestFieldName(e);return this.sendRequest(y.R.GET,`/data?scope=${t}`,{}).then((e=>null==e[t]?[]:e[t]))}addInterests(e,t){let s=v.getInterestFieldName(e),i={};return i[s+"_add"]=t,this.sendRequest(y.R.PATCH,"/data",i).then((e=>e[s]))}removeInterests(e,t){let s=v.getInterestFieldName(e),i={};return i[s+"_remove"]=t,this.sendRequest(y.R.PATCH,"/data",i).then((e=>e[s]))}removeDisciplines(e){let t={disciplines_remove:e};return this.sendRequest(y.R.PATCH,"/data",t).then((e=>e.disciplines))}addDisciplines(e){let t={disciplines_add:e};return this.sendRequest(y.R.PATCH,"/data",t).then((e=>e.disciplines))}getDisciplines(){return this.sendRequest(y.R.GET,"/data?scope=disciplines",{}).then((e=>null==e.disciplines?[]:e.disciplines))}sendRequest(e,t,s){return this.authController.getAccessToken().then((i=>{let n={method:e,headers:{"Content-Type":"application/json",Authorization:i}};e.toUpperCase()!==y.R.GET&&s&&(n.body=JSON.stringify(s));let a=!1;const c=this.baseUrl+t,u={action:r.Z.StudentsAPIRequest,label:o.Z.StudentsAPIError,payload:{fetchUrl:c,options:n}};return this.fetch(c,n).then((e=>(a=e.ok,e.json()))).then((e=>(a||this.trackError(e,u),e))).catch((e=>this.trackError(e,u)))})).catch((e=>{throw e instanceof class{constructor(e){this.message=e}}&&this.trackError(e,{action:r.Z.JWTAuth,label:o.Z.JWTAuthError}),e}))}patchData(e){return this.sendRequest(y.R.PATCH,"/data",e)}getData(e){return this.sendRequest(y.R.GET,"/data?scope="+e,{})}confirmForgotPassword(e,t){return this.authController.getEmail().then((s=>this.sendRequest(y.R.PATCH,"/forgot-password",{ConfirmationCode:e,Password:t,Username:s})))}disableAccount(){return this.sendRequest(y.R.DELETE,"/disable-account",{})}changePassword(e,t,s){return this.sendRequest(y.R.PATCH,"/change-password",{oldPassword:e,password:t,passwordConfirmation:s})}static getInterestFieldName(e){if("country"===e)return"interests_countries";if("discipline"===e)return"interests_disciplines";throw new Error("Invalid interest type only country and discipline supported")}}class g{constructor(e,t,s){this.studentAPI=e,this.serviceLayer=t,this.readyCallbacks=[],this.interests={},this.readyFlag=!1,this.trackError=s}ready(e){this.readyCallbacks.push(e),this.readyFlag&&this.notifyReadyCallbacks()}notifyReadyCallbacks(){this.readyCallbacks.shift()(this)}clearCache(){this.clearInterestsCache()}}p=g,[class{clearInterestsCache(){this.interests={},this.serviceLayer.clearCache("interests")}addInterests(e,t){return this.studentAPI.addInterests(e,t).then((t=>(this.interests[e]=t,t)))}removeInterests(e,t){return this.studentAPI.removeInterests(e,t).then((t=>(this.interests[e]=t,t)))}getInterestsData(e){return this.getInterests(e).then((t=>Array.isArray(t)&&t.length>0?this.serviceLayer.getInterests(e,t):[]))}getInterests(e){return new Promise(((t,s)=>void 0===this.interests[e]?this.studentAPI.getInterests(e).then((s=>Array.isArray(s)&&s.length>0?(this.interests[e]=s,t(s)):(this.interests[e]=[],t([])))):t(this.interests[e])))}},class{getScope(e){return this.studentAPI.getData(e)}getScopes(e){return this.getScope(e.join(","))}setValue(e,t){let s={};return s[e]=t,this.studentAPI.patchData(s)}setValues(e){return this.studentAPI.patchData(e)}setGPA(e,t){let s={gpa:{[e]:t,current_type:e}};return this.studentAPI.patchData(s)}setName(e){let t,s,i=e.indexOf(" ",0);-1!==i?(t=e.substring(0,i),s=e.substring(i).trim()):(t=e,s=null);let n={name:e,first_name:t,last_name:s};return this.studentAPI.patchData(n)}},class{addDisciplines(e){return this.studentAPI.addDisciplines(e).then((e=>(this.disciplines=e,e)))}removeDisciplines(e){return this.studentAPI.removeDisciplines(e).then((e=>(this.disciplines=e,this.disciplines)))}getDisciplines(){return new Promise(((e,t)=>{if(void 0===this.disciplines||!Array.isArray(this.disciplines))return this.studentAPI.getDisciplines().then((t=>{this.disciplines=null===t?[]:t,e(this.disciplines)}));e(this.disciplines)}))}getDisciplinesData(e){return this.getDisciplines().then((e=>Array.isArray(e)&&e.length>0?this.serviceLayer.getDisciplines(e):[]))}},class{confirmForgotPassword(e,t){return this.studentAPI.confirmForgotPassword(e,t)}disableAccount(){return this.studentAPI.disableAccount()}changePassword(e,t,s){return this.studentAPI.changePassword(e,t,s)}}].forEach((e=>{Object.getOwnPropertyNames(e.prototype).forEach((t=>{p.prototype[t]=e.prototype[t]}))})),window.Student=new g(new v(i.Z.studentApiBaseUrl,window.AuthController,n.Z,h),new class{constructor(e,t,s,i){this.retrievingFavourites=null,this.baseUrl=e,this.authController=t,this.fetch=s,this.countries={},this.disciplines={},this.studies={},this.organisations={},this.trackError=i}clearCache(){let e=!0;switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:""){case"countries":this.countries={};break;case"disciplines":this.disciplines={};break;case"interests":this.countries={},this.disciplines={};break;default:e=!1}return e}addResourceType(e,t){return t.map((t=>(t.type=e,t)))}getDisciplines(e){return this.getResources("disciplines",e)}getInterests(e,t){return e=e===d.Country?"countries":"disciplines",this.getResources(e,t)}getResources(e,t){let{cached:s,notCached:i}=this.getResourceCacheState(e,t);return 0===i.length?Promise.resolve(this.mergeResourcesFromCacheWithNew(e,s,[])):this.sendRequest(y.R.GET,`/${e}?ids=${i.join(",")}`).then((t=>Array.isArray(t)?(t.forEach((t=>{this[e][t.id]=t})),this.mergeResourcesFromCacheWithNew(e,s,t)):[]))}getResourceCacheState(e,t){let s=[],i=[];return t.forEach((t=>{this.isResourceInCache(e,t)?s.push(t):i.push(t)})),{cached:s,notCached:i}}mergeResourcesFromCacheWithNew(e,t,s){let i=[];return t.forEach((t=>{i.push(this[e][t.toString()])})),i=i.concat(s),i}isResourceInCache(e,t){return void 0!==Object.keys(this[e]).find((e=>e===t.toString()))}sendRequest(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.authController.getAccessToken().then((i=>{let n={method:e};return n.headers={"Content-Type":"application/json",Authorization:i},n.credentials="omit",e.toUpperCase()!==y.R.GET&&s&&(n.body=JSON.stringify(s)),this.fetch(this.baseUrl+t,n).then((e=>e.json())).catch((e=>this.trackError(e,{action:r.Z.SLRequest,label:o.Z.SLError})))})).catch((e=>this.trackError(e,{action:r.Z.JWTAuth,label:o.Z.JWTAuthError})))}}(i.Z.serviceLayerBaseUrl,window.AuthController,n.Z,h),h)},404:function(e,t,s){"use strict";s.r(t);var i=s(2198),n=s(4073),r=s(756),o=s(8887),a=s(9999),c=s(3717),u=s(3235),l=s(7366),d=s(8632),h=s(2910),f=s(4971),p=s(685);class y extends n.Wishlist{constructor(e,t){super(e),this.serializedWishlist=t}serialize(){return this.serializedWishlist?this.serializedWishlist:this}}class v{constructor(){this.programmeCardClient=new p.XW("url","key",this.getRandomInt(1,100),this.getPortalMap())}translateSerializedWishlist(e){const t=new y(e.userId,e);return e.favourites.forEach((e=>{const s=this.createStudy(e),i=new Date(e.dateAdded),r=new n.Favourite(s,i);t.addFavourite(r)})),t}createStudy(e){const t=e.study;let s;return void 0!==t.card&&(s=this.programmeCardClient.fromDescription(t.card)),new n.Study(t.id,s)}getPortalMap(){if(window.PortalMap)return new Map(Object.entries(window.PortalMap))}getRandomInt(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)}}class g{constructor(e,t,s,i){this.sessionService=e,this.baseUrl=t,this.wishlistCache=s,this.tracker=i,this.wishlistFactory=new v}get fetch(){return l.Z}async addFavourite(e){const t=await this.getWishlist();await this.executeRequest("","POST",{studyId:e,expectedState:t.stateHash})}async getWishlist(){let e=await this.wishlistCache.getWishlist();return null===e&&(e=await this.retrieveWishlistFromApi(),await this.wishlistCache.setWishlist(e)),e}async removeFavourite(e){const t=await this.getWishlist();await this.executeRequest("","DELETE",{studyId:e,expectedState:t.stateHash})}async setOrder(e,t){const s=await this.getWishlist();await this.executeRequest("/order","PATCH",{targetStudyId:e,position:t,expectedState:s.stateHash})}async retrieveWishlistFromApi(){const e=(await this.executeRequest("")).wishlist;return this.wishlistFactory.translateSerializedWishlist(e)}async getRequestOptions(e,t){const s={headers:{Authorization:await this.getAuthorizationToken()},method:e};return null!==t&&(s.body=JSON.stringify(t)),s}async executeRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const i=await this.getRequestOptions(t,s),n=await this.fetch(this.getFullUrl(e),i),r=await n.json();if(!n.ok||r.failed)throw await this.handleError(r);return r}catch(e){throw e instanceof n.WishlistException||(e=new Error("An unknown issue encountered while contacting our wishlist service")),e}}getFullUrl(e){return`${this.baseUrl}${e}`}async getAuthorizationToken(){return(await this.sessionService.getSession()).getAccessToken()}async handleIncorrectWishlistStateException(){return await this.wishlistCache.clearCache(),new n.IncorrectWishlistState}async handleWishlistNotFoundException(e){return await this.wishlistCache.clearCache(),new n.WishlistNotFound(e.wishlistId)}async handleDefaultException(e){if(void 0!==e.message&&"Unauthorized"===e.message){const e=await window.SessionService.getSession(),t=e.getUser();this.tracker.track({action:d.Z.General,label:h.Z.JWTAuthError,tags:[f.Z.Error],eventData:JSON.stringify({identityId:t.identityId,token:await e.getAccessToken(),time:Date.now(),localTime:(new Date).toLocaleString(),needsToRefresh:e.shouldRefresh()})})}return new n.WishlistException("An unknown issue encountered while contacting our wishlist service")}async handleError(e){switch(e.name){case"IncorrectWishlistState":return this.handleIncorrectWishlistStateException();case"WishlistNotFound":return this.handleWishlistNotFoundException(e);default:return this.handleDefaultException(e)}}}class m{constructor(e,t,s,i){this.addToWishlistCommandHandler=e,this.getWishlistQueryHandler=t,this.removeFromWishlistCommandHandler=s,this.setWishlistOrderCommandHandler=i,this.userId="local-wishlist"}async addFavourite(e){const t=await this.getWishlist(),s=this.createAddToWishlistCommand(e,t);await this.addToWishlistCommandHandler.handle(s)}async getWishlist(){const e=this.createGetWishlistQuery();return(await this.getWishlistQueryHandler.handle(e)).wishlist}async removeFavourite(e){const t=await this.getWishlist(),s=this.createRemoveFromWishlistCommand(e,t);await this.removeFromWishlistCommandHandler.handle(s)}async setOrder(e,t){const s=await this.getWishlist(),i=this.createSetWishlistOrderCommand(e,t,s);await this.setWishlistOrderCommandHandler.handle(i)}createGetWishlistQuery(){return new n.GetWishlistQuery(this.userId)}createAddToWishlistCommand(e,t){return new n.AddToWishlistCommand(this.userId,e,t.stateHash)}createRemoveFromWishlistCommand(e,t){return new n.RemoveFromWishlistCommand(this.userId,e,t.stateHash)}createSetWishlistOrderCommand(e,t,s){return new n.SetWishlistOrderCommand(this.userId,e,t,s.stateHash)}}var w=s(4936),S=s.n(w);class b{constructor(){this.queue=new(S())(1,1/0)}setWishlistService(e){this.wishlistService=e}getWishlist(){return this.queue.add((()=>this.wishlistService.getWishlist()))}addFavourite(e){return this.queue.add((()=>this.wishlistService.addFavourite(e)))}removeFavourite(e){return this.queue.add((()=>this.wishlistService.removeFavourite(e)))}setOrder(e,t){return this.queue.add((()=>this.wishlistService.setOrder(e,t)))}}class E{constructor(e){this.wishlistService=e}async addFavourite(e){try{await this.wishlistService.addFavourite(e)}catch(t){if(t instanceof n.IncorrectWishlistState||t instanceof n.WishlistNotFound)return this.wishlistService.addFavourite(e);throw t}}async removeFavourite(e){try{await this.wishlistService.removeFavourite(e)}catch(t){if(t instanceof n.IncorrectWishlistState)return this.wishlistService.removeFavourite(e);throw t}}async getWishlist(){return this.wishlistService.getWishlist()}async setOrder(e,t){return this.wishlistService.setOrder(e,t)}}class T{constructor(e,t){this.eventAggregationService=e,this.wishlistCache=t}async notify(e){await this.wishlistCache.clearCache(),this.eventAggregationService.publishTo(n.FavouriteAdded.EventType,new n.FavouriteAdded(e.userId,e.studyId,e.eventId,new Date(e.dateAdded)))}}class O{constructor(e,t){this.eventAggregationService=e,this.wishlistCache=t}initialize(){this.eventAggregationService.subscribeToWebSocketEvent(n.FavouriteAdded.EventType,new T(this.eventAggregationService,this.wishlistCache))}}class P{constructor(e,t){this.eventAggregationService=e,this.wishlistCache=t}async notify(e){await this.removeFavouriteToCachedWishlist(e),this.eventAggregationService.publishTo(n.FavouriteRemoved.EventType,new n.FavouriteRemoved(e.userId,e.studyId,e.eventId,new Date(e.dateRemoved)))}async removeFavouriteToCachedWishlist(e){const t=await this.wishlistCache.getWishlist();t&&(t.removeFavourite(e.studyId),await this.wishlistCache.setWishlist(t))}}class C{constructor(e,t){this.eventAggregationService=e,this.wishlistCache=t}initialize(){this.eventAggregationService.subscribeToWebSocketEvent(n.FavouriteRemoved.EventType,new P(this.eventAggregationService,this.wishlistCache))}}class R{constructor(e,t){this.eventAggregationService=e,this.wishlistCache=t}async notify(e){await this.setOrderOnCachedWishlist(e),this.eventAggregationService.publishTo(n.WishlistOrderChanged.EventType,new n.WishlistOrderChanged(e.userId,e.targetStudyId,e.referenceStudyId,e.eventId,new Date(e.dateChanged)))}async setOrderOnCachedWishlist(e){const t=await this.wishlistCache.getWishlist();t&&(t.changeOrder(e.targetStudyId,e.referenceStudyId),await this.wishlistCache.setWishlist(t))}}class _{constructor(e,t){this.eventAggregationService=e,this.wishlistCache=t}initialize(){this.eventAggregationService.subscribeToWebSocketEvent(n.WishlistOrderChanged.EventType,new R(this.eventAggregationService,this.wishlistCache))}}class A{constructor(e){this.eventAggregationService=e}async emit(e,t){this.eventAggregationService.publishTo(t.eventType,t)}}class I{constructor(e){this.localStorageDriver=e,this.localStorageKey="local-wishlist",this.wishlistFactory=new v}async addFavourite(e,t){await this.saveWishlist(e)}async removeFavourite(e,t){await this.saveWishlist(e)}async setWishlistOrder(e){await this.saveWishlist(e)}async retrieveByUserId(e){const t=await this.localStorageDriver.get(this.localStorageKey);if(""===t||null===t)return null;const s=JSON.parse(t);return null===s||void 0===s.userId?null:this.wishlistFactory.translateSerializedWishlist(s)}async changeUserId(e,t){throw new Error("Not available on local wishlist")}async createWishlist(e){const t=new y(e);return await this.saveWishlist(t),t}async removeWishlist(){await this.localStorageDriver.remove(this.localStorageKey)}async saveWishlist(e){await this.localStorageDriver.set(this.localStorageKey,JSON.stringify(e),1e12)}}class x{constructor(e){this.localStorageDriver=e,this.wishlist=null,this.storageKey="remote-wishlist-cache",this.cacheTTL=3600,this.wishlistFactory=new v}async setWishlist(e){this.wishlist=e,await this.localStorageDriver.set(this.storageKey,JSON.stringify(this.wishlist.serialize()),this.cacheTTL)}async getWishlist(){if(null===this.wishlist){const e=await this.localStorageDriver.get(this.storageKey);if(""===e||null===e)return null;this.wishlist=this.wishlistFactory.translateSerializedWishlist(JSON.parse(e))}return this.wishlist}async clearCache(){this.wishlist=null,await this.localStorageDriver.remove(this.storageKey)}}const k={environment:i.Z.stage?i.Z.stage:"dev",team:"xm",product:"WishlistService",category:"Wishlist"},j=new class{constructor(e,t,s,i){this.eventService=e,this.sessionService=t,this.wishlistBaseUrl=s,this.spTrackerConfig=i,this.localWishlistService=null,this.remoteWishlistService=null,this.localWishlistRepository=null,this.queueWishlistService=new b,this.wishlistCache=null}configureEnvironment(){const e=new c.G;this.wishlistCache=new x(e),this.remoteWishlistService=this.createRemoteWishlistService(),this.localWishlistService=this.createLocalWishlistService(e)}setupApplication(){this.setupOnSessionServiceReady(),this.eventService.subscribeTo(r.iQ.EventType,new u.f((()=>this.onSessionCreated()))),this.eventService.subscribeTo(r.QO.EventType,new u.f((()=>this.onSessionDestroyed()))),new O(this.eventService,this.wishlistCache).initialize(),new C(this.eventService,this.wishlistCache).initialize(),new _(this.eventService,this.wishlistCache).initialize()}setWishlistService(e){this.queueWishlistService.setWishlistService(e)}async synchroniseLocalWishlistToRemote(){const e=await this.localWishlistService.getWishlist();if(null!==e){await this.remoteWishlistService.getWishlist();for(let t in e.favourites){const s=e.favourites[t].study.id;await this.remoteWishlistService.addFavourite(s)}await this.localWishlistRepository.removeWishlist()}}async onSessionDestroyed(){this.setWishlistService(this.localWishlistService),await this.wishlistCache.clearCache()}async onSessionCreated(){this.setWishlistService(this.remoteWishlistService),await this.synchroniseLocalWishlistToRemote()}setupOnSessionServiceReady(){this.eventService.subscribeTo(r.q1.EventType,new u.f((()=>this.onSessionServiceReady())),!0)}async onSessionServiceReady(){null===await this.sessionService.getSession()?this.setWishlistService(this.localWishlistService):(this.setWishlistService(this.remoteWishlistService),this.synchroniseLocalWishlistToRemote());const e=new o.r(this.queueWishlistService);this.eventService.publishTo(o.r.EventType,e)}createLocalWishlistService(e){const t=new A(this.eventService),s=new I(e);this.localWishlistRepository=s;const i=new n.DefaultAddToWishlistCommandHandler(s,t),r=new n.DefaultRemoveFromWishlistCommandHandler(s,t),o=new n.SetWishlistOrderCommandHandler(s,t),a=new n.DefaultGetWishlistQueryHandler(s);return new E(new m(i,a,r,o))}createRemoteWishlistService(){const e=new a.Z(this.spTrackerConfig);return new E(new g(this.sessionService,this.wishlistBaseUrl,this.wishlistCache,e))}}(window.EventAggregationService,window.SessionService,i.Z.wishlistServiceBaseUrl,k);j.configureEnvironment(),j.setupApplication()},8249:function(e,t){var s;e.exports=(s=s||function(e,t){var s=Object.create||function(){function e(){}return function(t){var s;return e.prototype=t,s=new e,e.prototype=null,s}}(),i={},n=i.lib={},r=n.Base={extend:function(e){var t=s(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=n.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,s=e.words,i=this.sigBytes,n=e.sigBytes;if(this.clamp(),i%4)for(var r=0;r<n;r++){var o=s[r>>>2]>>>24-r%4*8&255;t[i+r>>>2]|=o<<24-(i+r)%4*8}else for(r=0;r<n;r+=4)t[i+r>>>2]=s[r>>>2];return this.sigBytes+=n,this},clamp:function(){var t=this.words,s=this.sigBytes;t[s>>>2]&=4294967295<<32-s%4*8,t.length=e.ceil(s/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var s,i=[],n=function(t){t=t;var s=987654321,i=4294967295;return function(){var n=((s=36969*(65535&s)+(s>>16)&i)<<16)+(t=18e3*(65535&t)+(t>>16)&i)&i;return n/=4294967296,(n+=.5)*(e.random()>.5?1:-1)}},r=0;r<t;r+=4){var a=n(4294967296*(s||e.random()));s=987654071*a(),i.push(4294967296*a()|0)}return new o.init(i,t)}}),a=i.enc={},c=a.Hex={stringify:function(e){for(var t=e.words,s=e.sigBytes,i=[],n=0;n<s;n++){var r=t[n>>>2]>>>24-n%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,s=[],i=0;i<t;i+=2)s[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new o.init(s,t/2)}},u=a.Latin1={stringify:function(e){for(var t=e.words,s=e.sigBytes,i=[],n=0;n<s;n++){var r=t[n>>>2]>>>24-n%4*8&255;i.push(String.fromCharCode(r))}return i.join("")},parse:function(e){for(var t=e.length,s=[],i=0;i<t;i++)s[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new o.init(s,t)}},l=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},d=n.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var s=this._data,i=s.words,n=s.sigBytes,r=this.blockSize,a=n/(4*r),c=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*r,u=e.min(4*c,n);if(c){for(var l=0;l<c;l+=r)this._doProcessBlock(i,l);var d=i.splice(0,c);s.sigBytes-=u}return new o.init(d,u)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(n.Hasher=d.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,s){return new e.init(s).finalize(t)}},_createHmacHelper:function(e){return function(t,s){return new h.HMAC.init(e,s).finalize(t)}}}),i.algo={});return i}(Math),s)},2783:function(e,t,s){var i,n,r,o,a,c,u,l;e.exports=(n=(i=l=s(8249)).lib,r=n.WordArray,o=n.Hasher,a=i.algo,c=[],u=a.SHA1=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var s=this._hash.words,i=s[0],n=s[1],r=s[2],o=s[3],a=s[4],u=0;u<80;u++){if(u<16)c[u]=0|e[t+u];else{var l=c[u-3]^c[u-8]^c[u-14]^c[u-16];c[u]=l<<1|l>>>31}var d=(i<<5|i>>>27)+a+c[u];d+=u<20?1518500249+(n&r|~n&o):u<40?1859775393+(n^r^o):u<60?(n&r|n&o|r&o)-1894007588:(n^r^o)-899497514,a=o,o=r,r=n<<30|n>>>2,n=i,i=d}s[0]=s[0]+i|0,s[1]=s[1]+n|0,s[2]=s[2]+r|0,s[3]=s[3]+o|0,s[4]=s[4]+a|0},_doFinalize:function(){var e=this._data,t=e.words,s=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=Math.floor(s/4294967296),t[15+(i+64>>>9<<4)]=s,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),i.SHA1=o._createHelper(u),i.HmacSHA1=o._createHmacHelper(u),l.SHA1)},6808:function(e,t,s){var i,n,r;r=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var s=arguments[e];for(var i in s)t[i]=s[i]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function s(i){function n(){}function r(t,s,r){if("undefined"!=typeof document){"number"==typeof(r=e({path:"/"},n.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var o=JSON.stringify(s);/^[\{\[]/.test(o)&&(s=o)}catch(e){}s=i.write?i.write(s,t):encodeURIComponent(String(s)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var c in r)r[c]&&(a+="; "+c,!0!==r[c]&&(a+="="+r[c].split(";")[0]));return document.cookie=t+"="+s+a}}function o(e,s){if("undefined"!=typeof document){for(var n={},r=document.cookie?document.cookie.split("; "):[],o=0;o<r.length;o++){var a=r[o].split("="),c=a.slice(1).join("=");s||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(a[0]);if(c=(i.read||i)(c,u)||t(c),s)try{c=JSON.parse(c)}catch(e){}if(n[u]=c,e===u)break}catch(e){}}return e?n[e]:n}}return n.set=r,n.get=function(e){return o(e,!1)},n.getJSON=function(e){return o(e,!0)},n.remove=function(t,s){r(t,"",e(s,{expires:-1}))},n.defaults={},n.withConverter=s,n}((function(){}))},void 0===(n="function"==typeof(i=r)?i.call(t,s,t,e):i)||(e.exports=n),e.exports=r()},3300:function(e,t){"use strict";var s=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==s)return s;throw new Error("unable to locate global object")}();e.exports=t=s.fetch,s.fetch&&(t.default=s.fetch.bind(s)),t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response},4936:function(e,t,s){e.exports=s(5009)},5009:function(e,t,s){var i,n;!function(r,o){"use strict";e.exports?e.exports=o():void 0===(n="function"==typeof(i=o)?i.call(t,s,t,e):i)||(e.exports=n)}(0,(function(){"use strict";var e="undefined"!=typeof Promise?Promise:function(){return{then:function(){throw new Error("Queue.configure() before use Queue")}}},t=function(){};function s(e,t,s){this.options=s=s||{},this.pendingPromises=0,this.maxPendingPromises=void 0!==e?e:1/0,this.maxQueuedPromises=void 0!==t?t:1/0,this.queue=[]}return s.configure=function(t){e=t},s.prototype.add=function(s){var i=this;return new e((function(e,n,r){i.queue.length>=i.maxQueuedPromises?n(new Error("Queue limit reached")):(i.queue.push({promiseGenerator:s,resolve:e,reject:n,notify:r||t}),i._dequeue())}))},s.prototype.getPendingLength=function(){return this.pendingPromises},s.prototype.getQueueLength=function(){return this.queue.length},s.prototype._dequeue=function(){var t=this;if(this.pendingPromises>=this.maxPendingPromises)return!1;var s,i=this.queue.shift();if(!i)return this.options.onEmpty&&this.options.onEmpty(),!1;try{this.pendingPromises++,(s=i.promiseGenerator(),s&&"function"==typeof s.then?s:new e((function(e){e(s)}))).then((function(e){t.pendingPromises--,i.resolve(e),t._dequeue()}),(function(e){t.pendingPromises--,i.reject(e),t._dequeue()}),(function(e){i.notify(e)}))}catch(e){t.pendingPromises--,i.reject(e),t._dequeue()}return!0},s}))},8593:function(e){"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,s),r.exports}s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";s(1237),s(9566),s(404)}()}();
//# sourceMappingURL=bundle.a0e253a4b037119ec5d2.js.map