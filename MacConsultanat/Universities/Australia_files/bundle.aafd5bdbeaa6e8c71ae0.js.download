(()=>{var e,t,i={9976:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return c.default}});var n=v(i(7041)),r=v(i(543)),s=v(i(829)),o=v(i(1654)),a=v(i(9995)),c=v(i(5507)),u=v(i(1840)),d=v(i(4683)),l=v(i(6856));function v(e){return e&&e.__esModule?e:{default:e}}},5380:(e,t)=>{"use strict";function i(e){return 14+(e+64>>>9<<4)+1}function n(e,t){const i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function r(e,t,i,r,s,o){return n((a=n(n(t,e),n(r,o)))<<(c=s)|a>>>32-c,i);var a,c}function s(e,t,i,n,s,o,a){return r(t&i|~t&n,e,t,s,o,a)}function o(e,t,i,n,s,o,a){return r(t&n|i&~n,e,t,s,o,a)}function a(e,t,i,n,s,o,a){return r(t^i^n,e,t,s,o,a)}function c(e,t,i,n,s,o,a){return r(i^(t|~n),e,t,s,o,a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let i=0;i<t.length;++i)e[i]=t.charCodeAt(i)}return function(e){const t=[],i=32*e.length,n="0123456789abcdef";for(let r=0;r<i;r+=8){const i=e[r>>5]>>>r%32&255,s=parseInt(n.charAt(i>>>4&15)+n.charAt(15&i),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[i(t)-1]=t;let r=1732584193,u=-271733879,d=-1732584194,l=271733878;for(let t=0;t<e.length;t+=16){const i=r,v=u,h=d,f=l;r=s(r,u,d,l,e[t],7,-680876936),l=s(l,r,u,d,e[t+1],12,-389564586),d=s(d,l,r,u,e[t+2],17,606105819),u=s(u,d,l,r,e[t+3],22,-1044525330),r=s(r,u,d,l,e[t+4],7,-176418897),l=s(l,r,u,d,e[t+5],12,1200080426),d=s(d,l,r,u,e[t+6],17,-1473231341),u=s(u,d,l,r,e[t+7],22,-45705983),r=s(r,u,d,l,e[t+8],7,1770035416),l=s(l,r,u,d,e[t+9],12,-1958414417),d=s(d,l,r,u,e[t+10],17,-42063),u=s(u,d,l,r,e[t+11],22,-1990404162),r=s(r,u,d,l,e[t+12],7,1804603682),l=s(l,r,u,d,e[t+13],12,-40341101),d=s(d,l,r,u,e[t+14],17,-1502002290),u=s(u,d,l,r,e[t+15],22,1236535329),r=o(r,u,d,l,e[t+1],5,-165796510),l=o(l,r,u,d,e[t+6],9,-1069501632),d=o(d,l,r,u,e[t+11],14,643717713),u=o(u,d,l,r,e[t],20,-373897302),r=o(r,u,d,l,e[t+5],5,-701558691),l=o(l,r,u,d,e[t+10],9,38016083),d=o(d,l,r,u,e[t+15],14,-660478335),u=o(u,d,l,r,e[t+4],20,-405537848),r=o(r,u,d,l,e[t+9],5,568446438),l=o(l,r,u,d,e[t+14],9,-1019803690),d=o(d,l,r,u,e[t+3],14,-187363961),u=o(u,d,l,r,e[t+8],20,1163531501),r=o(r,u,d,l,e[t+13],5,-1444681467),l=o(l,r,u,d,e[t+2],9,-51403784),d=o(d,l,r,u,e[t+7],14,1735328473),u=o(u,d,l,r,e[t+12],20,-1926607734),r=a(r,u,d,l,e[t+5],4,-378558),l=a(l,r,u,d,e[t+8],11,-2022574463),d=a(d,l,r,u,e[t+11],16,1839030562),u=a(u,d,l,r,e[t+14],23,-35309556),r=a(r,u,d,l,e[t+1],4,-1530992060),l=a(l,r,u,d,e[t+4],11,1272893353),d=a(d,l,r,u,e[t+7],16,-155497632),u=a(u,d,l,r,e[t+10],23,-1094730640),r=a(r,u,d,l,e[t+13],4,681279174),l=a(l,r,u,d,e[t],11,-358537222),d=a(d,l,r,u,e[t+3],16,-722521979),u=a(u,d,l,r,e[t+6],23,76029189),r=a(r,u,d,l,e[t+9],4,-640364487),l=a(l,r,u,d,e[t+12],11,-421815835),d=a(d,l,r,u,e[t+15],16,530742520),u=a(u,d,l,r,e[t+2],23,-995338651),r=c(r,u,d,l,e[t],6,-198630844),l=c(l,r,u,d,e[t+7],10,1126891415),d=c(d,l,r,u,e[t+14],15,-1416354905),u=c(u,d,l,r,e[t+5],21,-57434055),r=c(r,u,d,l,e[t+12],6,1700485571),l=c(l,r,u,d,e[t+3],10,-1894986606),d=c(d,l,r,u,e[t+10],15,-1051523),u=c(u,d,l,r,e[t+1],21,-2054922799),r=c(r,u,d,l,e[t+8],6,1873313359),l=c(l,r,u,d,e[t+15],10,-30611744),d=c(d,l,r,u,e[t+6],15,-1560198380),u=c(u,d,l,r,e[t+13],21,1309151649),r=c(r,u,d,l,e[t+4],6,-145523070),l=c(l,r,u,d,e[t+11],10,-1120210379),d=c(d,l,r,u,e[t+2],15,718787259),u=c(u,d,l,r,e[t+9],21,-343485551),r=n(r,i),u=n(u,v),d=n(d,h),l=n(l,f)}return[r,u,d,l]}(function(e){if(0===e.length)return[];const t=8*e.length,n=new Uint32Array(i(t));for(let i=0;i<t;i+=8)n[i>>5]|=(255&e[i/8])<<i%32;return n}(e),8*e.length))}},8077:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=i},9995:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default="00000000-0000-0000-0000-000000000000"},6856:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=i(1840))&&n.__esModule?n:{default:n};t.default=function(e){if(!(0,r.default)(e))throw TypeError("Invalid UUID");let t;const i=new Uint8Array(16);return i[0]=(t=parseInt(e.slice(0,8),16))>>>24,i[1]=t>>>16&255,i[2]=t>>>8&255,i[3]=255&t,i[4]=(t=parseInt(e.slice(9,13),16))>>>8,i[5]=255&t,i[6]=(t=parseInt(e.slice(14,18),16))>>>8,i[7]=255&t,i[8]=(t=parseInt(e.slice(19,23),16))>>>8,i[9]=255&t,i[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,i[11]=t/4294967296&255,i[12]=t>>>24&255,i[13]=t>>>16&255,i[14]=t>>>8&255,i[15]=255&t,i}},1573:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},4553:(e,t)=>{"use strict";let i;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!i&&(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(n)};const n=new Uint8Array(16)},719:(e,t)=>{"use strict";function i(e,t,i,n){switch(e){case 0:return t&i^~t&n;case 1:case 3:return t^i^n;case 2:return t&i^t&n^i&n}}function n(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){const t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let i=0;i<t.length;++i)e.push(t.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const s=e.length/4+2,o=Math.ceil(s/16),a=new Array(o);for(let t=0;t<o;++t){const i=new Uint32Array(16);for(let n=0;n<16;++n)i[n]=e[64*t+4*n]<<24|e[64*t+4*n+1]<<16|e[64*t+4*n+2]<<8|e[64*t+4*n+3];a[t]=i}a[o-1][14]=8*(e.length-1)/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<o;++e){const s=new Uint32Array(80);for(let t=0;t<16;++t)s[t]=a[e][t];for(let e=16;e<80;++e)s[e]=n(s[e-3]^s[e-8]^s[e-14]^s[e-16],1);let o=r[0],c=r[1],u=r[2],d=r[3],l=r[4];for(let e=0;e<80;++e){const r=Math.floor(e/20),a=n(o,5)+i(r,c,u,d)+l+t[r]+s[e]>>>0;l=d,d=u,u=n(c,30)>>>0,c=o,o=a}r[0]=r[0]+o>>>0,r[1]=r[1]+c>>>0,r[2]=r[2]+u>>>0,r[3]=r[3]+d>>>0,r[4]=r[4]+l>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}},4683:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=o;var n,r=(n=i(1840))&&n.__esModule?n:{default:n};const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));function o(e,t=0){return(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase()}t.default=function(e,t=0){const i=o(e,t);if(!(0,r.default)(i))throw TypeError("Stringified UUID is invalid");return i}},7041:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=i(4553))&&n.__esModule?n:{default:n},s=i(4683);let o,a,c=0,u=0;t.default=function(e,t,i){let n=t&&i||0;const d=t||new Array(16);let l=(e=e||{}).node||o,v=void 0!==e.clockseq?e.clockseq:a;if(null==l||null==v){const t=e.random||(e.rng||r.default)();null==l&&(l=o=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==v&&(v=a=16383&(t[6]<<8|t[7]))}let h=void 0!==e.msecs?e.msecs:Date.now(),f=void 0!==e.nsecs?e.nsecs:u+1;const y=h-c+(f-u)/1e4;if(y<0&&void 0===e.clockseq&&(v=v+1&16383),(y<0||h>c)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=h,u=f,a=v,h+=122192928e5;const p=(1e4*(268435455&h)+f)%4294967296;d[n++]=p>>>24&255,d[n++]=p>>>16&255,d[n++]=p>>>8&255,d[n++]=255&p;const m=h/4294967296*1e4&268435455;d[n++]=m>>>8&255,d[n++]=255&m,d[n++]=m>>>24&15|16,d[n++]=m>>>16&255,d[n++]=v>>>8|128,d[n++]=255&v;for(let e=0;e<6;++e)d[n+e]=l[e];return t||(0,s.unsafeStringify)(d)}},543:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(i(1629)),r=s(i(5380));function s(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)("v3",48,r.default);t.default=o},1629:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,i){function n(e,n,o,a){var c;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let i=0;i<e.length;++i)t.push(e.charCodeAt(i));return t}(e)),"string"==typeof n&&(n=(0,s.default)(n)),16!==(null===(c=n)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(n),u.set(e,n.length),u=i(u),u[6]=15&u[6]|t,u[8]=63&u[8]|128,o){a=a||0;for(let e=0;e<16;++e)o[a+e]=u[e];return o}return(0,r.unsafeStringify)(u)}try{n.name=e}catch(e){}return n.DNS=o,n.URL=a,n};var n,r=i(4683),s=(n=i(6856))&&n.__esModule?n:{default:n};const o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=o;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=a},829:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(i(8077)),r=o(i(4553)),s=i(4683);function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,i){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();const o=(e=e||{}).random||(e.rng||r.default)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){i=i||0;for(let e=0;e<16;++e)t[i+e]=o[e];return t}return(0,s.unsafeStringify)(o)}},1654:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(i(1629)),r=s(i(719));function s(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)("v5",80,r.default);t.default=o},1840:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=i(1573))&&n.__esModule?n:{default:n};t.default=function(e){return"string"==typeof e&&r.default.test(e)}},5507:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=i(1840))&&n.__esModule?n:{default:n};t.default=function(e){if(!(0,r.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},4178:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5662:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||t.hasOwnProperty(i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(i(4178),t)},1634:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.Actor=void 0,(i=t.Actor||(t.Actor={})).USER="user",i.AUTOMATION="automation"},1570:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.EventType=void 0,(i=t.EventType||(t.EventType={})).AnonymousStudentServiceReady="anonymous-student-service-ready",i.AnonymousStudentProfileUpdated="anonymous-student-profile-updated",i.AnonymousStudentProfileSynced="anonymous-student-profile-synced",i.AnonymousStudentStateChanged="anonymous-student-state-changed"},2617:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||t.hasOwnProperty(i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(i(1570),t),r(i(3898),t),r(i(6411),t),r(i(1634),t)},3898:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.InterestType=void 0,(i=t.InterestType||(t.InterestType={})).COUNTRY="interests_countries",i.DISCIPLINE="interests_disciplines"},6411:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.StudentRepositoryStateType=void 0,(i=t.StudentRepositoryStateType||(t.StudentRepositoryStateType={}))[i.PENDING=0]="PENDING",i[i.ONLINE=1]="ONLINE",i[i.OFFLINE=2]="OFFLINE"},8308:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnonymousStudentProfileSynced=void 0;const n=i(1570);class r{constructor(e,t){this.timestamp=e,this.state=t,this.eventType=r.EventType}}t.AnonymousStudentProfileSynced=r,r.EventType=n.EventType.AnonymousStudentProfileSynced},4236:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnonymousStudentProfileUpdated=void 0;const n=i(2617);class r{constructor(e,t,i){this.timestamp=e,this.state=t,this.changes=i,this.eventType=r.EventType}}t.AnonymousStudentProfileUpdated=r,r.EventType=n.EventType.AnonymousStudentProfileUpdated},1612:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnonymousStudentServiceReady=void 0;const n=i(2617);class r{constructor(e){this.eventType=r.EventType,this.timestamp=new Date,this.anonymousStudentService=e}}t.AnonymousStudentServiceReady=r,r.EventType=n.EventType.AnonymousStudentServiceReady},1886:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnonymousStudentStateChanged=void 0;const n=i(2617);class r{constructor(e,t,i){this.timestamp=e,this.oldState=t,this.newState=i,this.eventType=r.EventType}}t.AnonymousStudentStateChanged=r,r.EventType=n.EventType.AnonymousStudentStateChanged},1688:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||t.hasOwnProperty(i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(i(8308),t),r(i(4236),t),r(i(1612),t),r(i(1886),t)},7312:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||t.hasOwnProperty(i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(i(5662),t),r(i(2617),t),r(i(1688),t)},5725:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventAggregationEventType=void 0,(t.EventAggregationEventType||(t.EventAggregationEventType={})).WEBSOCKET_SERVICE_READY="WebsocketServiceReady"},423:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8759:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6570:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebsocketServiceReadyEvent=void 0;const n=i(5725);class r{constructor(e){this.eventAggregationService=e,this.eventType=r.EventType,this.timestamp=new Date}}t.WebsocketServiceReadyEvent=r,r.EventType=n.EventAggregationEventType.WEBSOCKET_SERVICE_READY},3385:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||t.hasOwnProperty(i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(i(3400),t),r(i(423),t),r(i(8759),t),r(i(6570),t),r(i(5725),t)},3400:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8328:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||t.hasOwnProperty(i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(i(3385),t),r(i(4285),t),r(i(3519),t)},3974:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3112:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionServiceEventType=void 0,(i=t.SessionServiceEventType||(t.SessionServiceEventType={})).SESSION_SERVICE_READY="SessionServiceReady",i.SESSION_CREATED="SessionCreated",i.SESSION_DESTROYED="SessionDestroyed"},3641:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionCreatedEvent=void 0;const n=i(3112);class r{constructor(e){this.eventType=r.EventType,this.timestamp=new Date,this.session=e}}t.SessionCreatedEvent=r,r.EventType=n.SessionServiceEventType.SESSION_CREATED},3533:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionDestroyedEvent=void 0;const n=i(3112);class r{constructor(){this.eventType=r.EventType,this.timestamp=new Date}}t.SessionDestroyedEvent=r,r.EventType=n.SessionServiceEventType.SESSION_DESTROYED},9927:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionServiceReadyEvent=void 0;const n=i(3112);class r{constructor(e){this.eventType=r.EventType,this.timestamp=new Date,this.sessionService=e}}t.SessionServiceReadyEvent=r,r.EventType=n.SessionServiceEventType.SESSION_SERVICE_READY},4285:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||t.hasOwnProperty(i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(i(4024),t),r(i(8615),t),r(i(4256),t),r(i(9497),t),r(i(3974),t),r(i(5386),t),r(i(9927),t),r(i(3533),t),r(i(3641),t),r(i(3112),t)},4024:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5386:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4256:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8615:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9497:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2301:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9258:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WishlistServiceEventType=void 0,(t.WishlistServiceEventType||(t.WishlistServiceEventType={})).WISHLIST_SERVICE_READY="WishlistServiceReady"},6549:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WishlistServiceReadyEvent=void 0;const n=i(9258);class r{constructor(e){this.wishlistService=e,this.eventType=r.EventType,this.timestamp=new Date}}t.WishlistServiceReadyEvent=r,r.EventType=n.WishlistServiceEventType.WISHLIST_SERVICE_READY},3519:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||t.hasOwnProperty(i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(i(2301),t),r(i(6549),t)},4541:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventManager=class{get window(){return window}get document(){return document}onBlur(e){this.window.addEventListener("blur",e)}onFocus(e){this.window.addEventListener("focus",e)}onMouseMove(e){this.window.addEventListener("mousemove",e)}onKeyUp(e){this.document.addEventListener("keyup",e)}onTouchStart(e){this.window.addEventListener("touchstart",e)}onScroll(e){this.window.addEventListener("scroll",e)}onVisibilityChange(e){this.document.addEventListener("visibilitychange",(()=>{void 0!==this.document.hidden&&e(this.document.hidden)}))}}},5719:(e,t,i)=>{"use strict";const n=i(8564),r=i(4541);t.Z=class{constructor(e={}){this.idleTimer=new n.Timer(1e3,this.userIdle.bind(this)),this.timeTimer=new n.Timer(e.interval,e.onTick),this.idleThreshold=e.idleThreshold||5e3,this.idleCallback=e.onIdle,this.eventManager=new r.EventManager}get TimeSpent(){return this.timeTimer.Elapsed}init(){this.bindEvents(),this.start(this.timeTimer),this.start(this.idleTimer)}bindEvents(){this.eventManager.onFocus(this.userReturned.bind(this)),this.eventManager.onMouseMove(this.userActive.bind(this)),this.eventManager.onKeyUp(this.userActive.bind(this)),this.eventManager.onTouchStart(this.userActive.bind(this)),this.eventManager.onScroll(this.userActive.bind(this)),this.eventManager.onBlur(this.userLeft.bind(this)),this.eventManager.onVisibilityChange((e=>{e?this.userLeft():this.userReturned()}))}userLeft(){this.pause(this.timeTimer),this.pause(this.idleTimer),this.reset(this.idleTimer)}userReturned(){this.start(this.timeTimer),this.start(this.idleTimer)}userActive(){this.start(this.timeTimer),this.reset(this.idleTimer),this.start(this.idleTimer)}userIdle(){this.idleTimer.Elapsed>=this.idleThreshold&&(this.idleCallback&&this.idleCallback(),this.pause(this.timeTimer),this.pause(this.idleTimer),this.reset(this.idleTimer))}start(e){e.start()}pause(e){e.pause()}reset(e){e.reset()}}},8564:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=class{constructor(e=100,t=null){this.interval=e,this.elapsed=0,this.callback=t,this.active=!1}get window(){return window}get Elapsed(){return this.elapsed}start(){this.active||(this.timer=this.window.setInterval(this.increment.bind(this),this.interval),this.active=!0)}pause(){this.window.clearInterval(this.timer),this.active=!1}reset(){this.elapsed=0}increment(){this.elapsed+=this.interval,this.callback&&this.callback()}}},4073:(e,t,i)=>{"use strict";function n(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),n(i(2755)),n(i(9290))},9057:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){e.done?r(e.value):new i((function(t){t(e.value)})).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=i(9290),s=i(9397),o=i(8576);class a extends o.BaseWishlistCommandHandler{constructor(e,t){super(e),this.wishlistRepository=e,this.eventEmitter=t}validate(e){if("number"!=typeof e.studyId)throw new s.FavouriteInvalidStudyId(e.studyId)}handle({studyId:e,userId:t,expectedState:i}){return n(this,void 0,void 0,(function*(){try{this.validate({studyId:e,userId:t,expectedState:i});const n=yield this.getWishlist(t,i),s=r.Favourite.create(e);return n.addFavourite(s),yield this.wishlistRepository.addFavourite(n,s),yield this.emitFavouriteAddedEvent(t,e,s.dateAdded),{resultingState:n.stateHash}}catch(e){if(e instanceof r.StudyAlreadyFavourited)return{resultingState:i};throw e}}))}emitFavouriteAddedEvent(e,t,i){return n(this,void 0,void 0,(function*(){yield this.eventEmitter.emit(r.FavouriteAdded.EventType,r.FavouriteAdded.create(e,t,i))}))}}t.DefaultAddToWishlistCommandHandler=a},796:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddToWishlistCommand=class{constructor(e,t,i){this.userId=e,this.studyId=t,this.expectedState=i}}},8856:(e,t,i)=>{"use strict";function n(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),n(i(796)),n(i(9057))},8576:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){e.done?r(e.value):new i((function(t){t(e.value)})).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=i(9290);t.BaseWishlistCommandHandler=class{constructor(e){this.wishlistRepository=e,this.wishlistStateValidator=new r.WishlistStateValidator}getWishlist(e,t){return n(this,void 0,void 0,(function*(){const i=yield this.wishlistRepository.retrieveByUserId(e);if(null===i)throw new r.WishlistNotFound(e);return this.wishlistStateValidator.validate(i,t),i}))}}},884:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommandResult=class{constructor(e){this.resultingState=e}}},4083:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i(884))},5274:(e,t,i)=>{"use strict";function n(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),n(i(7738)),n(i(9481)),n(i(3699))},9481:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){e.done?r(e.value):new i((function(t){t(e.value)})).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=i(3699);t.DefaultGetWishlistQueryHandler=class{constructor(e){this.wishlistRepository=e}handle({userId:e}){return n(this,void 0,void 0,(function*(){let t=yield this.wishlistRepository.retrieveByUserId(e);return null===t&&(t=yield this.wishlistRepository.createWishlist(e)),new r.GetWishlistQueryResult(t)}))}}},3699:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetWishlistQueryResult=class{constructor(e){this.wishlist=e}}},7738:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetWishlistQuery=class{constructor(e){this.userId=e}}},2755:(e,t,i)=>{"use strict";function n(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),n(i(8856)),n(i(1803)),n(i(5274)),n(i(214)),n(i(4083))},7986:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){e.done?r(e.value):new i((function(t){t(e.value)})).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=i(9290),s=i(9397),o=i(8576);class a extends o.BaseWishlistCommandHandler{constructor(e,t){super(e),this.wishlistRepository=e,this.eventEmitter=t}validate(e){if("number"!=typeof e.studyId)throw new s.FavouriteInvalidStudyId(e.studyId)}handle({studyId:e,userId:t,expectedState:i}){return n(this,void 0,void 0,(function*(){try{this.validate({studyId:e,userId:t,expectedState:i});const n=yield this.getWishlist(t,i);n.removeFavourite(e);const s=this.getCurrentDate();return yield this.wishlistRepository.removeFavourite(n,r.Favourite.create(e),s),yield this.emitFavouriteRemovedEvent(t,e,s),{resultingState:n.stateHash}}catch(e){if(e instanceof r.FavouriteNotFound)return{resultingState:i};throw e}}))}getCurrentDate(){return new Date}emitFavouriteRemovedEvent(e,t,i){return n(this,void 0,void 0,(function*(){yield this.eventEmitter.emit(r.FavouriteRemoved.EventType,r.FavouriteRemoved.create(e,t,i))}))}}t.DefaultRemoveFromWishlistCommandHandler=a},182:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveFromWishlistCommand=class{constructor(e,t,i){this.userId=e,this.studyId=t,this.expectedState=i}}},1803:(e,t,i)=>{"use strict";function n(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),n(i(182)),n(i(7986))},4706:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){e.done?r(e.value):new i((function(t){t(e.value)})).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=i(9290),s=i(5865),o=i(8576);class a extends o.BaseWishlistCommandHandler{constructor(e,t){super(e),this.wishlistRepository=e,this.eventEmitter=t}handle({userId:e,targetStudyId:t,position:i,expectedState:s}){return n(this,void 0,void 0,(function*(){const n=yield this.getWishlist(e,s);let o=null;if(0!==i){if(!n.favourites[i])throw new r.WishlistException("Position out of bounds");o=n.favourites[i].study.id}return n.changeOrder(t,o),yield this.wishlistRepository.setWishlistOrder(n,t,o),yield this.emitWishListOrderChangedEvent(e,t,o,new Date),{resultingState:n.stateHash}}))}emitWishListOrderChangedEvent(e,t,i,r){return n(this,void 0,void 0,(function*(){yield this.eventEmitter.emit(s.WishlistOrderChanged.EventType,s.WishlistOrderChanged.create(e,t,i,r))}))}}t.SetWishlistOrderCommandHandler=a},3456:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SetWishlistOrderCommand=class{constructor(e,t,i,n){this.userId=e,this.targetStudyId=t,this.position=i,this.expectedState=n}}},214:(e,t,i)=>{"use strict";function n(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),n(i(3456)),n(i(4706))},2102:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(4806);class r{constructor(e,t){this.study=e,this.dateAdded=t}static create(e,t=new Date){return new r(new n.Study(e),t)}}t.Favourite=r},8772:(e,t,i)=>{"use strict";function n(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),n(i(2102)),n(i(4806)),n(i(6200))},4806:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Study=class{constructor(e,t){this.id=e,this.card=t}canShowProgrammeCard(){return!!this.card}setProgrammeCard(e){this.card=e}}},6200:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(8862),r=i(7073);t.Wishlist=class{constructor(e){this.userId=e,this._favourites=[]}get favourites(){return this._favourites}get stateHash(){const e=this._favourites.map((e=>e.study.id));return r.StateHasher.hash(e)}changeOrder(e,t){if(e===t)throw new n.WishlistException("targetStudy cannot be the same study as referenceStudy");if(!this.isFavourited(e))throw new n.WishlistException("targetStudy does not exist");let i=-1;const r=this.removeAndRetrieveFavouriteFromFavourites(e);if(t){if(!this.isFavourited(t))throw new n.WishlistException("referenceStudy does not exist");i=this.favourites.findIndex((e=>e.study.id===t))}this.favourites.splice(i+1,0,r)}removeAndRetrieveFavouriteFromFavourites(e){const t=this.favourites.findIndex((t=>t.study.id===e)),i=this.favourites[t];return this.favourites.splice(t,1),i}addFavourite(e){if(this.containsStudy(e.study.id))throw new n.StudyAlreadyFavourited(this.userId,e.study.id);this._favourites.push(e)}removeFavourite(e){this.removeStudyFromFavourites(e)}containsStudy(e){return this._favourites.some((t=>t.study.id===e))}findFavourite(e){return this._favourites.find((t=>t.study.id===e))||null}removeStudyFromFavourites(e){let t=!1;if(this._favourites=this._favourites.filter((i=>{const n=i.study.id===e;return n&&(t=!0),!n})),!t)throw new n.FavouriteNotFound(this.userId,e)}toJSON(){return{userId:this.userId,favourites:this._favourites}}isFavourited(e){return this._favourites.some((t=>t.study.id===e))}}},6513:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(4928);class r extends n.WishlistEvent{constructor(e,t,i,n){super(n),this.userId=e,this.studyId=t,this.eventId=i,this.dateAdded=n,this.eventType=r.EventType,this.eventVersion="1.0.0"}static create(e,t,i=new Date){return new r(e,t,n.WishlistEvent.generateId(),i)}}r.EventType="FavouriteAdded",t.FavouriteAdded=r},8209:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(4928);class r extends n.WishlistEvent{constructor(e,t,i,n){super(n),this.userId=e,this.studyId=t,this.eventId=i,this.dateRemoved=n,this.eventType=r.EventType,this.eventVersion="1.0.0"}static create(e,t,i){return new r(e,t,n.WishlistEvent.generateId(),i)}}r.EventType="FavouriteRemoved",t.FavouriteRemoved=r},5865:(e,t,i)=>{"use strict";function n(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),n(i(6513)),n(i(8209)),n(i(1298))},4928:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(9976);t.WishlistEvent=class{constructor(e){this.timestamp=e}static generateId(){return n.v4()}}},1298:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(4928);class r extends n.WishlistEvent{constructor(e,t,i,n,s){super(s),this.userId=e,this.targetStudyId=t,this.referenceStudyId=i,this.eventId=n,this.dateChanged=s,this.eventType=r.EventType,this.eventVersion="1.0.0"}static create(e,t,i,s=new Date){return new r(e,t,i,n.WishlistEvent.generateId(),s)}}r.EventType="WishlistOrderChanged",t.WishlistOrderChanged=r},8647:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(3720);class r extends n.WishlistException{constructor(){super("Favourite found without a study"),this.name="FavouriteFoundWithoutStudy"}}t.FavouriteFoundWithoutStudy=r},9397:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(3720);class r extends n.WishlistException{constructor(e){super(`Invalid study id, expected to be of type number: ${JSON.stringify(e)}`),this.studyId=e,this.name="FavouriteInvalidStudyId"}}t.FavouriteInvalidStudyId=r},447:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(3720);class r extends n.WishlistException{constructor(e,t){super(`Favourite with study id ${t} from wishlist ${e} not found.`),this.name="FavouriteNotFound"}}t.FavouriteNotFound=r},739:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(3720);class r extends n.WishlistException{constructor(){super("ExpectedState doesn't match current state of wishlist"),this.name="IncorrectWishlistState"}}t.IncorrectWishlistState=r},8862:(e,t,i)=>{"use strict";function n(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),n(i(8647)),n(i(447)),n(i(739)),n(i(8180)),n(i(9094)),n(i(3720))},8180:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(3720);class r extends n.WishlistException{constructor(e,t){super(`Favourite with study id ${t} from wishlist ${e} already exists.`),this.wishlistId=e,this.studyId=t,this.name="StudyAlreadyFavourited"}}t.StudyAlreadyFavourited=r},3720:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i extends Error{constructor(e){super(e),this.name="WishlistException"}}t.WishlistException=i},9094:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(3720);class r extends n.WishlistException{constructor(e){super(`Wishlist with id ${e} not found`),this.wishlistId=e,this.name="WishlistNotFound"}}t.WishlistNotFound=r},9290:(e,t,i)=>{"use strict";function n(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),n(i(8772)),n(i(8862)),n(i(7073)),n(i(5865))},7073:(e,t,i)=>{"use strict";function n(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0}),n(i(2386)),n(i(709))},2386:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(2783);t.StateHasher=class{static hash(e){return n(JSON.stringify(e)).toString()}}},709:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(739);t.WishlistStateValidator=class{validate(e,t){if(e.stateHash!==t)throw new n.IncorrectWishlistState}}},7543:(e,t,i)=>{"use strict";i.d(t,{Z:()=>b});var n=i(8328),r=function(e,t,i,n){return new(i||(i=Promise))((function(r,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class s{constructor(e,t){this.eventAggregationService=t,this.sessionService=e}initialize(){var e;return r(this,void 0,void 0,(function*(){yield this.handleSessionService(this.sessionService),null===(e=this.eventAggregationService)||void 0===e||e.subscribeTo(n.SessionCreatedEvent.EventType,this)}))}notify(){return r(this,void 0,void 0,(function*(){yield b.actions.setLoggedInFlag(!0)}))}handleSessionService(e){return r(this,void 0,void 0,(function*(){null!==(yield e.getSession())?yield b.actions.setLoggedInFlag(!0):b.mutations.setLoggedInFlag(!1)}))}}var o=i(6350);class a{constructor(){this.eventAggregationService=o.Z.eventAggregationService,this.sessionService=o.Z.sessionService,this.sessionAdapter=new s(this.sessionService,this.eventAggregationService)}initialize(){return e=this,i=function*(){yield this.sessionAdapter.initialize()},new((t=void 0)||(t=Promise))((function(n,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function o(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var i;e.done?n(e.value):(i=e.value,i instanceof t?i:new t((function(e){e(i)}))).then(s,o)}a((i=i.apply(e,[])).next())}));var e,t,i}}var c,u=i(4073),d=function(e,t,i,n){return new(i||(i=Promise))((function(r,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class l{initialize(){o.Z.eventAggregationService.subscribeTo(u.FavouriteAdded.EventType,this,!0)}notify(e){return d(this,void 0,void 0,(function*(){yield this.add(e)}))}add(e){return d(this,void 0,void 0,(function*(){b.getters.isInitialized()&&(yield this.addFavourite(null==e?void 0:e.studyId))}))}addFavourite(e){return d(this,void 0,void 0,(function*(){const t=yield this.getAddedFavourite(e);if(!t)return;if(this.favouriteExists(t))return void b.mutations.undoDeletion(null==t?void 0:t.study.id);const i={favourite:t,deleted:!1};b.mutations.add(i),document.dispatchEvent(new Event("premium_click_tracker_update_listeners"))}))}favouriteExists(e){var t;let i=!1;const n=null===(t=e.study)||void 0===t?void 0:t.id;return i=b.getters.entries().some((e=>e.favourite.study.id===n)),i}getAddedFavourite(e){return d(this,void 0,void 0,(function*(){return(yield o.Z.wishlistService.getWishlist()).favourites.find((t=>{var i;return(null===(i=t.study)||void 0===i?void 0:i.id)===e}))}))}}class v{initialize(){o.Z.eventAggregationService.subscribeTo(u.FavouriteRemoved.EventType,this,!0)}notify(e){this.remove(e)}remove(e){const t=null==e?void 0:e.studyId;b.getters.isInitialized()&&(this.studyCanBeUndone(t)||b.mutations.remove(t))}studyCanBeUndone(e){const t=this.getFavouriteByStudyId(e);return!!(null==t?void 0:t.deleted)&&t.deleted}getFavouriteByStudyId(e){return b.getters.entries().find((t=>t.favourite.study.id===e))}}class h{constructor(){this.favouriteAddedService=new l,this.favouriteRemovedService=new v}initialize(){return e=this,i=function*(){const e=o.Z.wishlistService,t=yield e.getWishlist(),i=this.mapWishlistToEntries(t);b.mutations.updateWishlist(i),b.mutations.wishlistInitialized(),this.favouriteAddedService.initialize(),this.favouriteRemovedService.initialize()},new((t=void 0)||(t=Promise))((function(n,r){function s(e){try{a(i.next(e))}catch(e){r(e)}}function o(e){try{a(i.throw(e))}catch(e){r(e)}}function a(e){var i;e.done?n(e.value):(i=e.value,i instanceof t?i:new t((function(e){e(i)}))).then(s,o)}a((i=i.apply(e,[])).next())}));var e,t,i}mapWishlistToEntries(e){return e.favourites.map((e=>({favourite:e,deleted:!1})))}}!function(e){e.CREATED="created",e.FAILED="failed",e.DONE="done",e.ATTEMPTED="attempted"}(c||(c={}));var f=function(e,t,i,n){return new(i||(i=Promise))((function(r,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class y{constructor(e){this.studyId=e,this.studyId=e,this.removeCommandState=c.CREATED}action(){return f(this,void 0,void 0,(function*(){this.removeCommandState=c.ATTEMPTED;try{yield o.Z.wishlistService.removeFavourite(this.studyId),this.removeCommandState=c.DONE}catch(e){this.removeCommandState=c.FAILED}}))}revert(){return f(this,void 0,void 0,(function*(){this.removeCommandState=c.ATTEMPTED;try{b.mutations.undoDeletion(this.studyId),yield o.Z.wishlistService.addFavourite(this.studyId),this.removeCommandState=c.DONE}catch(e){this.removeCommandState=c.FAILED}}))}}var p=function(e,t,i,n){return new(i||(i=Promise))((function(r,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};const m={remove:e=>p(void 0,void 0,void 0,(function*(){const t=new y(e);return yield t.action(),b.mutations.reversableRemove(e),t})),setAreDependenciesLoaded:e=>p(void 0,void 0,void 0,(function*(){if(b.mutations.setAreDependenciesLoaded(e),e){const e=new a;yield e.initialize(),b.mutations.setIsReady(!0)}})),setLoggedInFlag:e=>p(void 0,void 0,void 0,(function*(){if(e){const e=new h;yield e.initialize()}b.mutations.setLoggedInFlag(e)}))};var g=i(1549);const _=(0,g.reactive)({initialized:!1,entries:[],compareMode:!1,comparisonStudies:[],isLoggedIn:!1,areDependenciesLoaded:!1,isReady:!1}),w={reversedEntries:()=>void 0===_.entries?[]:_.entries.slice().reverse(),isReady:()=>_.isReady,isInitialized:()=>_.initialized,compareMode:()=>_.compareMode,isLoggedIn:()=>_.isLoggedIn,comparisonStudies:()=>_.comparisonStudies,entries:()=>_.entries},S={add:e=>{_.entries=[..._.entries,e]},remove:e=>{_.entries=_.entries.filter((t=>(null==t?void 0:t.favourite.study.id)!==e))},reversableRemove:e=>{_.entries=_.entries.map((t=>(t&&t.favourite.study.id===e&&(t.deleted=!0),t)))},updateWishlist:e=>{_.entries=e},undoDeletion:e=>{_.entries=_.entries.map((t=>(t&&t.favourite.study.id===e&&(t.deleted=!1),t)))},wishlistInitialized:()=>{_.initialized=!0},toggleCompareMode:()=>{_.compareMode=!_.compareMode},enableCompareMode:()=>{_.compareMode=!0},setLoggedInFlag:e=>{_.isLoggedIn=e},addComparisonStudy:e=>{_.comparisonStudies=[..._.comparisonStudies,e]},removeComparisonStudy:e=>{_.comparisonStudies=_.comparisonStudies.filter((t=>t!==e))},removeAllComparsionStudies:()=>{_.comparisonStudies=[]},setAreDependenciesLoaded:e=>{_.areDependenciesLoaded=e},setIsReady:e=>{_.isReady=e}},b={state:(0,g.readonly)(_),mutations:S,getters:w,actions:m}},6350:(e,t,i)=>{"use strict";var n;i.d(t,{Z:()=>r});const r={sessionService:{},eventAggregationService:{},anonymousStudent:{},trackingLibrary:{actions:{OpenedDrawer:"opened_drawer",ClosedDrawer:"closed_drawer",FavouriteRemove:"favourite_remove",ProgramTitleClick:"program_title - click",StudyCardFooterClick:"studycard_footer - click",TimeSpentInWishList:"time_spent_in_wishlist",ApplyNowClick:"apply_now - click",ClickedOnUniversityLinkOnNotAvailableTooltip:"clicked_on_university_link_not_available_tooltip",WishlistLimitReachedShowed:"wishlist_limit_reached_showed",ApplicationPartnerShowed:"application_partner_showed",UnavailableStudyIconClick:"unavailable_study_icon - click",UnavailableStudyUniversityLinkClick:"unavailable_study_university_link - click",UnavailableStudiesWarningShowed:"unavailable_studies_warning_showed",TimeSpent:"wishist_overview - timespent",UndoRemove:"undo_remove",ToggleCompareMode:"toggle_compare_mode",StartComparison:"start_comparison",SelectedStudiesInfoClick:"selected_studies_info - click",ToggleComparisonStudy:"toggle_comparison_study",NavigationClickTutorial:"navigation_click_tutorial",PremiumLinkClick:"premium_link - click"},categories:{WishlistOverview:"WishlistOverview",Comparison:"Comparison"}},tracking:new class{GA(e){return void 0===window.Shared||void 0===window.Shared.GA?null:void window.Shared.GA.fireTracker({category:e.category,action:e.action,label:e.label,value:e.value,nonInteraction:e.nonInteraction||!1})}snowPlow(e){if(void 0===window.snowplow)return null;window.snowplow("trackStructEvent",{category:e.category,action:e.action,label:e.label||"",property:e.property||"",value:e.value||0})}trackSnowPlowAndGA(e){this.snowPlow(e),this.GA(e)}trackCloseWishlist(){const e={category:r.trackingLibrary.categories.WishlistOverview,action:r.trackingLibrary.actions.ClosedDrawer};this.trackSnowPlowAndGA(e)}trackOpenWishlist(){const e={category:r.trackingLibrary.categories.WishlistOverview,action:r.trackingLibrary.actions.OpenedDrawer};this.trackSnowPlowAndGA(e)}trackTimeSpent(e,t){const i={category:r.trackingLibrary.categories.WishlistOverview,action:r.trackingLibrary.actions.TimeSpent,label:e,value:t};this.snowPlow(i)}trackLimitReached(e){document.addEventListener("Notification",(t=>{if(t.detail.key!==e)return;const i={category:r.trackingLibrary.categories.WishlistOverview,action:r.trackingLibrary.actions.WishlistLimitReachedShowed};this.trackSnowPlowAndGA(i)}))}trackUndo(e){const t={category:r.trackingLibrary.categories.WishlistOverview,action:r.trackingLibrary.actions.UndoRemove,value:e};this.trackSnowPlowAndGA(t)}trackRemoveFromWishlist(e){const t={category:r.trackingLibrary.categories.WishlistOverview,action:r.trackingLibrary.actions.FavouriteRemove,value:e};r.tracking.trackSnowPlowAndGA(t)}trackClickOnStudyTitle(){const e={category:r.trackingLibrary.categories.WishlistOverview,action:r.trackingLibrary.actions.ProgramTitleClick};this.trackSnowPlowAndGA(e)}trackClickOnFooter(){const e={category:r.trackingLibrary.categories.WishlistOverview,action:r.trackingLibrary.actions.StudyCardFooterClick};this.trackSnowPlowAndGA(e)}trackPremiumClick(e){const t={category:r.trackingLibrary.categories.WishlistOverview,action:r.trackingLibrary.actions.PremiumLinkClick,value:e};this.trackSnowPlowAndGA(t)}trackAddToComparison(e,t){const i={category:r.trackingLibrary.categories.WishlistOverview,action:r.trackingLibrary.actions.ToggleComparisonStudy,label:t,value:e};this.trackSnowPlowAndGA(i)}trackInfoIconClick(e){const t={category:r.trackingLibrary.categories.WishlistOverview,action:r.trackingLibrary.actions.UnavailableStudyIconClick,value:e};this.trackSnowPlowAndGA(t)}trackUniversityLinkClick(e){const t={category:r.trackingLibrary.categories.WishlistOverview,action:r.trackingLibrary.actions.UnavailableStudyUniversityLinkClick,value:e};this.trackSnowPlowAndGA(t)}trackComparisonMode(e){const t={category:r.trackingLibrary.categories.WishlistOverview,action:r.trackingLibrary.actions.ToggleCompareMode,label:e};this.trackSnowPlowAndGA(t)}trackStartComparison(){const e={category:r.trackingLibrary.categories.WishlistOverview,action:r.trackingLibrary.actions.StartComparison};this.trackSnowPlowAndGA(e)}trackImpressionWishlistWarning(){const e={category:r.trackingLibrary.categories.WishlistOverview,action:r.trackingLibrary.actions.UnavailableStudiesWarningShowed};this.trackSnowPlowAndGA(e)}trackInfoIconClickSelected(){const e={category:r.trackingLibrary.categories.WishlistOverview,action:r.trackingLibrary.actions.SelectedStudiesInfoClick};this.trackSnowPlowAndGA(e)}},wishlistService:{},eventBus:{all:n=n||new Map,on:function(e,t){var i=n.get(e);i?i.push(t):n.set(e,[t])},off:function(e,t){var i=n.get(e);i&&(t?i.splice(i.indexOf(t)>>>0,1):n.set(e,[]))},emit:function(e,t){var i=n.get(e);i&&i.slice().map((function(e){e(t)})),(i=n.get("*"))&&i.slice().map((function(i){i(e,t)}))}},portalType:window.PortalType}},8249:function(e,t){var i;e.exports=(i=i||function(e,t){var i=Object.create||function(){function e(){}return function(t){var i;return e.prototype=t,i=new e,e.prototype=null,i}}(),n={},r=n.lib={},s=r.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=r.WordArray=s.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes,r=e.sigBytes;if(this.clamp(),n%4)for(var s=0;s<r;s++){var o=i[s>>>2]>>>24-s%4*8&255;t[n+s>>>2]|=o<<24-(n+s)%4*8}else for(s=0;s<r;s+=4)t[n+s>>>2]=i[s>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=s.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var i,n=[],r=function(t){var i=987654321,n=4294967295;return function(){var r=((i=36969*(65535&i)+(i>>16)&n)<<16)+(t=18e3*(65535&t)+(t>>16)&n)&n;return r/=4294967296,(r+=.5)*(e.random()>.5?1:-1)}},s=0;s<t;s+=4){var a=r(4294967296*(i||e.random()));i=987654071*a(),n.push(4294967296*a()|0)}return new o.init(n,t)}}),a=n.enc={},c=a.Hex={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],r=0;r<i;r++){var s=t[r>>>2]>>>24-r%4*8&255;n.push((s>>>4).toString(16)),n.push((15&s).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new o.init(i,t/2)}},u=a.Latin1={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],r=0;r<i;r++){var s=t[r>>>2]>>>24-r%4*8&255;n.push(String.fromCharCode(s))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new o.init(i,t)}},d=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},l=r.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i=this._data,n=i.words,r=i.sigBytes,s=this.blockSize,a=r/(4*s),c=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*s,u=e.min(4*c,r);if(c){for(var d=0;d<c;d+=s)this._doProcessBlock(n,d);var l=n.splice(0,c);i.sigBytes-=u}return new o.init(l,u)},clone:function(){var e=s.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),v=(r.Hasher=l.extend({cfg:s.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new v.HMAC.init(e,i).finalize(t)}}}),n.algo={});return n}(Math),i)},2783:function(e,t,i){var n,r,s,o,a,c,u,d;e.exports=(r=(n=d=i(8249)).lib,s=r.WordArray,o=r.Hasher,a=n.algo,c=[],u=a.SHA1=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],r=i[1],s=i[2],o=i[3],a=i[4],u=0;u<80;u++){if(u<16)c[u]=0|e[t+u];else{var d=c[u-3]^c[u-8]^c[u-14]^c[u-16];c[u]=d<<1|d>>>31}var l=(n<<5|n>>>27)+a+c[u];l+=u<20?1518500249+(r&s|~r&o):u<40?1859775393+(r^s^o):u<60?(r&s|r&o|s&o)-1894007588:(r^s^o)-899497514,a=o,o=s,s=r<<30|r>>>2,r=n,n=l}i[0]=i[0]+n|0,i[1]=i[1]+r|0,i[2]=i[2]+s|0,i[3]=i[3]+o|0,i[4]=i[4]+a|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(i/4294967296),t[15+(n+64>>>9<<4)]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),n.SHA1=o._createHelper(u),n.HmacSHA1=o._createHmacHelper(u),d.SHA1)},5877:(e,t,i)=>{var n=i(3570),r=i(1171),s=r;s.v1=n,s.v4=r,e.exports=s},5327:e=>{for(var t=[],i=0;i<256;++i)t[i]=(i+256).toString(16).substr(1);e.exports=function(e,i){var n=i||0,r=t;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")}},5217:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var i=new Uint8Array(16);e.exports=function(){return t(i),i}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}},3570:(e,t,i)=>{var n,r,s=i(5217),o=i(5327),a=0,c=0;e.exports=function(e,t,i){var u=t&&i||0,d=t||[],l=(e=e||{}).node||n,v=void 0!==e.clockseq?e.clockseq:r;if(null==l||null==v){var h=s();null==l&&(l=n=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==v&&(v=r=16383&(h[6]<<8|h[7]))}var f=void 0!==e.msecs?e.msecs:(new Date).getTime(),y=void 0!==e.nsecs?e.nsecs:c+1,p=f-a+(y-c)/1e4;if(p<0&&void 0===e.clockseq&&(v=v+1&16383),(p<0||f>a)&&void 0===e.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=f,c=y,r=v;var m=(1e4*(268435455&(f+=122192928e5))+y)%4294967296;d[u++]=m>>>24&255,d[u++]=m>>>16&255,d[u++]=m>>>8&255,d[u++]=255&m;var g=f/4294967296*1e4&268435455;d[u++]=g>>>8&255,d[u++]=255&g,d[u++]=g>>>24&15|16,d[u++]=g>>>16&255,d[u++]=v>>>8|128,d[u++]=255&v;for(var _=0;_<6;++_)d[u+_]=l[_];return t||o(d)}},1171:(e,t,i)=>{var n=i(5217),r=i(5327);e.exports=function(e,t,i){var s=t&&i||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||n)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;++a)t[s+a]=o[a];return t||r(o)}},3744:(e,t)=>{"use strict";t.Z=(e,t)=>{const i=e.__vccOpts||e;for(const[e,n]of t)i[e]=n;return i}},1549:(e,t,i)=>{e.exports=i(4717)("v")},4987:e=>{"use strict";e.exports=dataStorage_v2},8505:e=>{"use strict";e.exports=datalake_event_tracker_v4},8540:e=>{"use strict";e.exports=tooltip_v2},4717:e=>{"use strict";e.exports=vue3_library_v5}},n={};function r(e){var t=n[e];if(void 0!==t)return t.exports;var s=n[e]={exports:{}};return i[e].call(s.exports,s,s.exports,r),s.exports}r.m=i,r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,i)=>(r.f[i](e,t),t)),[])),r.u=e=>e+"."+r.h()+".js",r.miniCssF=e=>e+"."+r.h()+".css",r.h=()=>"aafd5bdbeaa6e8c71ae0",r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="decision_making_service:",r.l=(i,n,s,o)=>{if(e[i])e[i].push(n);else{var a,c;if(void 0!==s)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var l=u[d];if(l.getAttribute("src")==i||l.getAttribute("data-webpack")==t+s){a=l;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",t+s),a.src=i),e[i]=[n];var v=(t,n)=>{a.onerror=a.onload=null,clearTimeout(h);var r=e[i];if(delete e[i],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((e=>e(n))),t)return t(n)},h=setTimeout(v.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=v.bind(null,a.onerror),a.onload=v.bind(null,a.onload),c&&document.head.appendChild(a)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="https://decisionmakingservice.prtl.co/dist/",(()=>{if("undefined"!=typeof document){var e={296:0};r.f.miniCss=(t,i)=>{e[t]?i.push(e[t]):0!==e[t]&&{143:1,314:1,354:1,680:1}[t]&&i.push(e[t]=(e=>new Promise(((t,i)=>{var n=r.miniCssF(e),s=r.p+n;if(((e,t)=>{for(var i=document.getElementsByTagName("link"),n=0;n<i.length;n++){var r=(o=i[n]).getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(r===e||r===t))return o}var s=document.getElementsByTagName("style");for(n=0;n<s.length;n++){var o;if((r=(o=s[n]).getAttribute("data-href"))===e||r===t)return o}})(n,s))return t();((e,t,i,n,r)=>{var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",s.onerror=s.onload=i=>{if(s.onerror=s.onload=null,"load"===i.type)n();else{var o=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=o,c.request=a,s.parentNode.removeChild(s),r(c)}},s.href=t,document.head.appendChild(s)})(e,s,0,t,i)})))(t).then((()=>{e[t]=0}),(i=>{throw delete e[t],i})))}}})(),(()=>{var e={296:0};r.f.j=(t,i)=>{var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)i.push(n[2]);else{var s=new Promise(((i,r)=>n=e[t]=[i,r]));i.push(n[2]=s);var o=r.p+r.u(t),a=new Error;r.l(o,(i=>{if(r.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var s=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,n[1](a)}}),"chunk-"+t,t)}};var t=(t,i)=>{var n,s,o=i[0],a=i[1],c=i[2],u=0;if(o.some((t=>0!==e[t]))){for(n in a)r.o(a,n)&&(r.m[n]=a[n]);c&&c(r)}for(t&&t(i);u<o.length;u++)s=o[u],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0},i=self.webpackChunkdecision_making_service=self.webpackChunkdecision_making_service||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{"use strict";var e=r(1549);const t={key:0,id:"decisionMakingService"};var i=r(7543),n=r(5877),s=r(5719),o=r(6350);class a{constructor(){this.limitNotificationType="Warning",this.limitNotificationKey="WishlistLimitReached",this.favouriteLimit=99,this.wishlistOpen=(0,e.ref)(!1),this.timeSpentTimerIdentifier=(0,n.v4)(),this.timeSpentConfig={interval:5e3,idleThreshold:1e4,onTick:()=>{var e;this.wishlistOpen.value&&o.Z.tracking.trackTimeSpent(this.timeSpentTimerIdentifier,null!==(e=this.timeSpentConfig.interval)&&void 0!==e?e:5e3)}},this.timeSpentTimer={},this.hasLoaded=(0,e.ref)(!1),this.initialized=(0,e.computed)((()=>i.Z.getters.isInitialized())),this.isReady=(0,e.computed)((()=>i.Z.getters.isReady()))}mounted(){this.attachListeners(),o.Z.tracking.trackLimitReached(this.limitNotificationKey)}openDrawer(){document.dispatchEvent(new Event("openWishlistDrawer"))}attachListeners(){this.addOpenWishlistDrawerListener(),this.addCloseWishlistDrawerListener(),this.addActiveComparisonModeListener()}addOpenWishlistDrawerListener(){document.addEventListener("openWishlistDrawer",(()=>{document.dispatchEvent(new Event("premium_click_tracker_update_listeners")),this.hasLoaded.value=!0,this.wishlistOpen.value=!0,o.Z.tracking.trackOpenWishlist(),this.timeSpentTimer=new s.Z(this.timeSpentConfig),this.timeSpentTimer.init()}))}addCloseWishlistDrawerListener(){document.addEventListener("closeWishlistDrawer",(()=>{this.wishlistOpen.value=!1,o.Z.tracking.trackCloseWishlist()}))}addActiveComparisonModeListener(){document.addEventListener("activate_comparison_mode",(()=>{i.Z.mutations.enableCompareMode()}))}}const c=(0,e.defineComponent)({components:{Wishlist:(0,e.defineAsyncComponent)((()=>r.e(680).then(r.bind(r,9680)))),PreLoader:(0,e.defineAsyncComponent)((()=>r.e(143).then(r.bind(r,143)))),Notify:(0,e.defineAsyncComponent)((()=>r.e(314).then(r.bind(r,7314)))),ComparisonMode:(0,e.defineAsyncComponent)((()=>r.e(354).then(r.bind(r,8354))))},setup:()=>{const t=new a;return(0,e.onMounted)(t.mounted.bind(t)),{limitNotificationType:t.limitNotificationType,limitNotificationKey:t.limitNotificationKey,favouriteLimit:t.favouriteLimit,openDrawer:t.openDrawer.bind(t),hasLoaded:t.hasLoaded,isReady:t.isReady,wishlistOpen:t.wishlistOpen,initialized:t.initialized}}}),u=(0,r(3744).Z)(c,[["render",function(i,n,r,s,o,a){const c=(0,e.resolveComponent)("Notify"),u=(0,e.resolveComponent)("ComparisonMode"),d=(0,e.resolveComponent)("Wishlist"),l=(0,e.resolveComponent)("PreLoader");return(0,e.openBlock)(),(0,e.createElementBlock)("div",null,[(0,e.createVNode)(c,{type:i.limitNotificationType,eventKey:i.limitNotificationKey},{default:(0,e.withCtx)((()=>[(0,e.createTextVNode)(" You reached the maximum amount of "+(0,e.toDisplayString)(i.favouriteLimit)+" programmes in your wishlist. ",1),(0,e.createElementVNode)("a",{onClick:n[0]||(n[0]=function(){return i.openDrawer&&i.openDrawer(...arguments)})},"Time to narrow it down!")])),_:1},8,["type","eventKey"]),i.hasLoaded&&i.isReady?((0,e.openBlock)(),(0,e.createElementBlock)("div",t,[(0,e.withDirectives)((0,e.createVNode)(u,null,null,512),[[e.vShow,i.wishlistOpen]]),(0,e.withDirectives)((0,e.createVNode)(d,null,null,512),[[e.vShow,i.wishlistOpen]]),(0,e.withDirectives)((0,e.createVNode)(l,null,null,512),[[e.vShow,i.wishlistOpen&&!i.initialized]])])):(0,e.createCommentVNode)("v-if",!0)])}]]);var d=r(7312),l=r(8328);class v{constructor(){this.anonymousStudentIsReady=!1,this.sessionServiceIsReady=!1,this.wishlistServiceIsReady=!1}initialize(){const e=window.EventAggregationService;e&&(o.Z.eventAggregationService=e,e.subscribeTo(l.SessionServiceReadyEvent.EventType,this,!0),e.subscribeTo(d.AnonymousStudentServiceReady.EventType,this,!0),e.subscribeTo(l.WishlistServiceReadyEvent.EventType,this,!0))}notify(e){return t=this,r=function*(){e.eventType===l.SessionServiceReadyEvent.EventType&&this.handleSessionServiceReady(e),e.eventType===d.AnonymousStudentServiceReady.EventType&&this.handleAnonymousStudentReady(e),e.eventType===l.WishlistServiceReadyEvent.EventType&&this.handleWishlistServiceReady(e),this.sessionServiceIsReady&&this.anonymousStudentIsReady&&this.wishlistServiceIsReady&&(yield i.Z.actions.setAreDependenciesLoaded(!0))},new((n=void 0)||(n=Promise))((function(e,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function o(e){try{a(r.throw(e))}catch(e){i(e)}}function a(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(e){e(i)}))).then(s,o)}a((r=r.apply(t,[])).next())}));var t,n,r}handleWishlistServiceReady(e){o.Z.wishlistService=e.wishlistService,this.wishlistServiceIsReady=!0}handleSessionServiceReady(e){o.Z.sessionService=e.sessionService,this.sessionServiceIsReady=!0}handleAnonymousStudentReady(e){o.Z.anonymousStudent=e.anonymousStudentService,this.anonymousStudentIsReady=!0}}new class{constructor(){this.initialize()}initialize(){this.initializePlugins(),(0,e.createApp)({render:()=>(0,e.h)(u)}).mount("#DecisionMakingServicePlaceholder")}initializePlugins(){(new v).initialize()}}})()})();
//# sourceMappingURL=bundle.aafd5bdbeaa6e8c71ae0.js.map