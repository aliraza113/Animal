var datalake_event_tracker_v4;(()=>{var e={"./node_modules/@studyportals/datalake-event-tracker/dist/datalake_event_tracker.js":e=>{globalThis,e.exports=(()=>{"use strict";var e={173:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TrackerImporter=void 0,t.TrackerImporter=class{constructor(){this.trackerObject=null,this.trackerIsLoaded=!1}get tracker(){return this.trackerObject}get trackerLoaded(){return this.trackerIsLoaded}loadTracker(e){if(void 0!==window.snowplow)return this.trackerObject=window.snowplow,this.trackerIsLoaded=!0,void e(window.snowplow);document.addEventListener("snowplow_available",(()=>{this.trackerObject=window.snowplow,this.trackerIsLoaded=!0,e(window.snowplow)}))}}},819:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Tracker=void 0;const i=r(173),a=r(898),o=r(458),n=r(658),s=r(779),c=r(392),d=r(306),l=r(192);t.Tracker=class{constructor(e){this.product=e,this.tracker=null,this.trackerImporter=null,this.structuredEventValidator=this.initStructuredEventValidators(),this.initTrackerSupport()}trackStructuredEvent(e){if(null===this.tracker)throw new Error(l.ErrorMessage.TRACKER_UNAVAILABLE);e.category=this.product,this.structuredEventValidator.validate(e),this.tracker("trackStructEvent",e)}trackStudyCardImpression(e){if(null===this.tracker)throw new Error(l.ErrorMessage.TRACKER_UNAVAILABLE);this.tracker("addEnhancedEcommerceImpressionContext",e.getTrackingContext()),this.tracker("trackEnhancedEcommerceAction",{action:"view"})}trackStudyCardClick(e){if(null===this.tracker)throw new Error(l.ErrorMessage.TRACKER_UNAVAILABLE);this.tracker("addEnhancedEcommerceProductContext",e.getTrackingContext()),this.tracker("trackEnhancedEcommerceAction",{action:"click"})}trackProductView(e){if(null===this.tracker)throw new Error(l.ErrorMessage.TRACKER_UNAVAILABLE);this.tracker("addEnhancedEcommerceProductContext",e.getTrackingContext()),this.tracker("trackEnhancedEcommerceAction",{action:"detail"})}initStructuredEventValidators(){const e=new o.EventValidator;return e.addValidator(new a.CategoryValidator),e.addValidator(new n.ActionValidator),e.addValidator(new s.LabelValidator),e.addValidator(new c.PropertyValidator),e.addValidator(new d.ValueValidator),e}initTrackerSupport(){this.trackerImporter=new i.TrackerImporter,this.trackerImporter.loadTracker((()=>{this.tracker=this.trackerImporter.tracker,window.DatalakeEventTrackerLoaded=!0,document.dispatchEvent(new Event("DatalakeEventTrackerLoaded"))}))}}},957:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationError=void 0;class r extends Error{constructor(e){super(e),this.name="ValidationError"}}t.ValidationError=r},658:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ActionValidator=void 0;const i=r(721),a=r(192),o=r(957),n=r(662);t.ActionValidator=class{constructor(){this.snakeCaseValidator=new n.SnakeCaseValidator}validate(e){const t=e.action;if(void 0!==t){if(!Object.values(i.Action).includes(t))throw new o.ValidationError(a.ErrorMessage.INVALID_ACTION);this.snakeCaseValidator.validate(t)}}}},898:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CategoryValidator=void 0;const i=r(550),a=r(192),o=r(957),n=r(690);t.CategoryValidator=class{constructor(){this.pascalCaseValidator=new n.PascalCaseValidator}validate(e){const t=e.category;if(void 0===t)throw new o.ValidationError(a.ErrorMessage.INVALID_PRODUCT);if(!Object.values(i.Product).includes(t))throw new o.ValidationError(a.ErrorMessage.INVALID_PRODUCT);this.pascalCaseValidator.validate(t)}}},458:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EventValidator=void 0,t.EventValidator=class{constructor(){this.validators=[]}addValidator(e){this.validators.push(e)}validate(e){for(const t of this.validators)t.validate(e)}}},779:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LabelValidator=void 0;const i=r(662);t.LabelValidator=class{constructor(){this.snakeCaseValidator=new i.SnakeCaseValidator}validate(e){const t=e.label;void 0!==t&&this.snakeCaseValidator.validate(t)}}},690:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PascalCaseValidator=void 0;const i=r(192),a=r(957);t.PascalCaseValidator=class{validate(e){if("string"!=typeof e||-1!==e.indexOf("-")||-1!==e.indexOf("_")||e.charAt(0).toUpperCase()!==e.charAt(0))throw new a.ValidationError(i.ErrorMessage.INVALID_PASCAL_CASE)}}},392:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyValidator=void 0;const i=r(662);t.PropertyValidator=class{constructor(){this.snakeCaseValidator=new i.SnakeCaseValidator}validate(e){void 0!==e.property&&this.snakeCaseValidator.validate(e.property)}}},662:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SnakeCaseValidator=void 0;const i=r(192),a=r(957);t.SnakeCaseValidator=class{validate(e){if("string"!=typeof e||e!==e.toLowerCase()||-1!==e.indexOf("-"))throw new a.ValidationError(i.ErrorMessage.INVALID_SNAKE_CASE)}}},306:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValueValidator=void 0;const i=r(192),a=r(957);t.ValueValidator=class{validate(e){if(void 0!==e.value&&("string"==typeof e.value||isNaN(e.value)))throw new a.ValidationError(i.ErrorMessage.INVALID_NUMBER)}}},721:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0,(r=t.Action||(t.Action={})).CLICK="click",r.IMPRESSION="impression",r.POPUP_OPEN="popup_open",r.POPUP_CLOSE="popup_close",r.TIME_SPENT="time_spent",r.NON_INTERACTIVE="non_interactive",r.RENDERED="rendered"},192:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorMessage=void 0,(r=t.ErrorMessage||(t.ErrorMessage={})).INVALID_NUMBER="invalid_number",r.INVALID_SNAKE_CASE="invalid_snake_case",r.INVALID_PASCAL_CASE="invalid_pascal_case",r.INVALID_ACTION="invalid_action",r.INVALID_PRODUCT="invalid_product",r.TRACKER_UNAVAILABLE="tracker_unavailable"},976:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ListName=void 0,(r=t.ListName||(t.ListName={})).SEARCH_PAGE="search_page",r.STUDY_CARD_STUDY_OPTIONS="study_card_study_options",r.RECOMMENDER="recommender",r.UNIVERSITY_HIGHLIGHTED="university_highlighted",r.UNIVERSITY_PROGRAMMES="university_programmes",r.STUDY_CARD_COUNTRY_DEGREE="study_card_country_degree",r.STUDY_CARD_DISCIPLINE="study_card_discipline",r.WISHLIST="wishlist"},135:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ListPageType=void 0,(r=t.ListPageType||(t.ListPageType={})).SEARCH="search",r.STUDY="study",r.ARTICLE="article",r.STUDY_OPTIONS="study_options",r.UNIVERSITY="university",r.ACCOUNT="account",r.COUNTRY="country",r.COUNTRY_DEGREE="country_degree",r.DISCIPLINE="discipline",r.CITY="city",r.UNIBUDDY="unibuddy",r.HOME="home"},257:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProductType=void 0,(t.ProductType||(t.ProductType={})).STUDY="study"},550:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Product=void 0,(r=t.Product||(t.Product={})).BESTFIT_OVERVIEW="BestfitOverview",r.PROFILE="Profile",r.ACCOUNT_PAGE="AccountPage",r.PROFILE_QUESTIONNAIRES="ProfileQuestionnaires",r.EXPERIMENT="Experiment",r.STUDY_PAGE="StudyPage",r.HOME_PAGE="HomePage",r.ORGANISATION_PAGE="OrganisationPage",r.SEARCH_PAGE="SearchPage",r.DISCIPLINE_PAGE="DisciplinePage",r.COUNTRY_TEST="CountryTest",r.PERSONALITY_TEST="PersonalityTest",r.REVIEWS="Reviews",r.DECISION_MAKING_SERVICE="DecisionMakingService",r.GOOGLE_AD_MANAGER="GoogleAdManager",r.ERT="ERT",r.SMT="SMT",r.UNIBUDDY="Unibuddy",r.COUNTRY_DEGREE="CountryDegreePage",r.STUDY_OPTIONS="StudyOptionsPage",r.ARTICLE_PAGE="ArticlePage",r.RECOMMENDATONS="Recommendations",r.SCHOLARSHIP_PAGE="ScholarshipPage",r.COMPARISON_TOOL="ComparisonTool"},966:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ClickEcommerceTrackingData=void 0;const i=r(519);class a extends i.EcommerceTrackingData{constructor(e,t,r,i,a,o,n,s,c,d){super(e,t,r,i,a,o,n,s,c),this.productId=e,this.listPageType=t,this.listName=r,this.organisationId=i,this.disciplines=a,this.premium=o,this.listPosition=n,this.unitPrice=s,this.currency=c,this.productType=d}getTrackingContext(){var e,t;return{id:this.getProductId(),name:this.productType,list:this.listName,brand:this.getOrganisationId(),category:this.getDisciplines(),variant:null!==(t=null===(e=this.premium)||void 0===e?void 0:e.toString())&&void 0!==t?t:void 0,price:this.getUnitPrice(),quantity:"1",coupon:this.listPageType,position:this.listPosition,currency:this.getCurrency()}}}t.ClickEcommerceTrackingData=a},519:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EcommerceTrackingData=void 0,t.EcommerceTrackingData=class{constructor(e,t,r,i,a,o,n,s,c){this.productId=e,this.listPageType=t,this.listName=r,this.organisationId=i,this.disciplines=a,this.premium=o,this.listPosition=n,this.unitPrice=s,this.currency=c}getProductId(){return this.productId.toString()}getOrganisationId(){return this.organisationId.toString()}getDisciplines(){if(this.disciplines)return this.disciplines.map((e=>e.toString())).join("/")}getUnitPrice(){if(this.unitPrice)return this.unitPrice.toString()}getCurrency(){if(this.currency&&3===this.currency.length)return this.currency.toString()}}},324:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StudyCardImpressionData=void 0;const i=r(519);class a extends i.EcommerceTrackingData{getTrackingContext(){var e,t;return{id:this.getProductId(),name:this.listPageType,list:this.listName,brand:this.getOrganisationId(),category:this.getDisciplines(),variant:null!==(t=null===(e=this.premium)||void 0===e?void 0:e.toString())&&void 0!==t?t:void 0,position:this.listPosition,price:this.getUnitPrice(),currency:this.getCurrency()}}}t.StudyCardImpressionData=a},227:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ViewEcommerceTrackingData=void 0;const i=r(519);class a extends i.EcommerceTrackingData{constructor(e,t,r,i,a,o,n,s,c,d){super(e,t,r,i,a,o,n,s,c),this.productId=e,this.listPageType=t,this.listName=r,this.organisationId=i,this.disciplines=a,this.premium=o,this.listPosition=n,this.unitPrice=s,this.currency=c,this.productType=d}getTrackingContext(){var e,t;return{id:this.getProductId(),name:this.productType,list:this.listName,brand:this.getOrganisationId(),category:this.getDisciplines(),variant:null!==(t=null===(e=this.premium)||void 0===e?void 0:e.toString())&&void 0!==t?t:void 0,price:this.getUnitPrice(),quantity:"1",coupon:this.listPageType,position:this.listPosition,currency:this.getCurrency()}}}t.ViewEcommerceTrackingData=a}},t={};function r(i){var a=t[i];if(void 0!==a)return a.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,r),o.exports}var i={};return(()=>{var e=i;Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEcommerceTrackingData=e.ClickEcommerceTrackingData=e.StudyCardImpressionData=e.EcommerceTrackingData=e.ProductType=e.ListName=e.ListPageType=e.Product=e.Action=e.Tracker=void 0;const t=r(819);Object.defineProperty(e,"Tracker",{enumerable:!0,get:function(){return t.Tracker}});const a=r(721);Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return a.Action}});const o=r(550);Object.defineProperty(e,"Product",{enumerable:!0,get:function(){return o.Product}});const n=r(257);Object.defineProperty(e,"ProductType",{enumerable:!0,get:function(){return n.ProductType}});const s=r(519);Object.defineProperty(e,"EcommerceTrackingData",{enumerable:!0,get:function(){return s.EcommerceTrackingData}});const c=r(324);Object.defineProperty(e,"StudyCardImpressionData",{enumerable:!0,get:function(){return c.StudyCardImpressionData}});const d=r(966);Object.defineProperty(e,"ClickEcommerceTrackingData",{enumerable:!0,get:function(){return d.ClickEcommerceTrackingData}});const l=r(227);Object.defineProperty(e,"ViewEcommerceTrackingData",{enumerable:!0,get:function(){return l.ViewEcommerceTrackingData}});const u=r(135);Object.defineProperty(e,"ListPageType",{enumerable:!0,get:function(){return u.ListPageType}});const p=r(976);Object.defineProperty(e,"ListName",{enumerable:!0,get:function(){return p.ListName}})})(),i})()},"?642b":(e,t,r)=>{e.exports=r}},t={},r=function r(i){var a=t[i];if(void 0!==a)return a.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,r),o.exports}("?642b");datalake_event_tracker_v4=r})();
//# sourceMappingURL=datalake_event_tracker.min.js.map